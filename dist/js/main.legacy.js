/**
 * Bundle of AWES form-builder transpiled and polyfilled
 * Generated: 2019-01-16
 * Version: 0.1.5
 */

!function(){"use strict";function t(t,e,n,i,o,r,s,a,l,u){"function"==typeof s&&(l=a,a=s,s=!1);const c="function"==typeof n?n.options:n;t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),i&&(c._scopeId=i);let d;if(r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=d):e&&(d=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),d)if(c.functional){const t=c.render;c.render=function(e,n){return d.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,d):[d]}return n}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t,e,n){function i(t){if(!n||0===Object.keys(n).length)return t;for(let e in n)t[e]=n[e];return t}if(document.createEvent){const n=new Event(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(i(n))}else{const n=document.createEventObject();e.fireEvent("on"+t,i(n))}}function i(t){return(t,e)=>o(t,e)}function o(t,e){const n=Ze?e.media||"default":t,i=tn[n]||(tn[n]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",e.media&&i.element.setAttribute("media",e.media),Qe.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(n),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const t=i.ids.size-1,e=document.createTextNode(n),o=i.element.childNodes;o[t]&&i.element.removeChild(o[t]),o.length?i.element.insertBefore(e,o[t]):i.element.appendChild(e)}}}function r(t){this.installed||(this.installed=!0,t.component("form-builder",d),t.component("fb-error-wrap",p),t.component("fb-input",Qt),t.component("fb-multi-block",ie),t.component("fb-checkbox",se),t.component("fb-select",ue),t.component("fb-textarea",pe),t.component("fb-code",Ye),t.component("fb-company-slug",nn),t.component("fb-auto-captcha",sn),t.component("fb-radio-group",un))}function s(t,e,n,i){let o=t.forms.find(t=>t.id==e);const r=t.forms.findIndex(t=>t.id==e);null===i?_.unset(o,n):_.set(o,n,i),Vue.set(t.forms,r,o)}let a=0;const l=[{type:"beforeunload",handler:"windowUnloadHandler"},{type:"popstate",handler:"popStateHandler"}];var u={name:"form-builder",props:{cancelbtn:{type:Boolean,default:!1},name:{type:String,default:()=>`form-builder-${a++}`},url:{type:String,required:!0},sendText:String,cancelText:String,loadingText:String,default:{type:Object,default:null},method:{type:String,default:"post",validator(t){return void 0===t||["get","put","post","delete","patch"].includes(t.toLowerCase())}},storeData:String,disabledDialog:{type:Boolean,default:!1},autoSubmit:{type:Boolean,default:!1}},inject:{modal:{from:"modal",default:!1}},provide(){return{formId:this.name,isModal:!!this.modal}},data(){return{loading:!1,serverData:null,serverDataErrors:null,showLoader:!1}},computed:{form(){return this.$awesForms.getters.form(this.name)},isEdited(){return this.$awesForms.getters.isEdited(this.name)},workingState(){return this.$awesForms.getters.workingState(this.name)},storeFormData(){return!!this.storeData&&this.$awesForms.state[this.storeData]},usedFormData(){return this.storeFormData?(this.default&&console.warn("Only VUEX STORE data will be used, despite DEFAULT data exists"),this.storeFormData):!!this.default&&this.default}},watch:{usedFormData:{handler:function(t){this.form||(this.createForm(),t&&this.$awesForms.commit("setDefaultData",{id:this.name,fields:t}))},deep:!0,immediate:!0},loading(t){this.$awesForms.commit("toggleFormLoading",{id:this.name,isLoading:t})},serverData(t){t&&(this.storeData?this.$awesForms.commit("setData",{param:this.storeData,data:t.data}):this.$awesForms.commit("setDefaultData",{id:this.name,fields:t.data}),this.$awesForms.commit("resetFormEdited",this.name),this.serverData=null,this.$emit("sended",t.data),this.modal&&this.close(this.modal.name))},serverDataErrors(t){t&&(this.$awesForms.commit("setErrors",{id:this.name,errors:t}),this.serverDataErrors=null,this.disabledDialog||this.addUnloadHandlers())}},methods:{createForm(){this.$awesForms.commit("createForm",{id:this.name,url:this.url,method:this.method,storeData:this.storeData})},send(){this.$listeners.hasOwnProperty("send")?this.$emit("send",this.workingState):this.loading||(this.removeUnloadHandlers(),this.$awesForms.commit("resetErrors",this.name),this.loading=!0,AWES.on("core:ajax",this.onRequestProcess),AWES.ajax(this.workingState,this.url,this.method).then(t=>{this.serverData=t}).catch(t=>{this.serverDataErrors=t}).finally(()=>{this.loading=!1;this.showLoader=!1;AWES.off("core:ajax",this.onRequestProcess)}))},onRequestProcess(t){this.showLoader=t.detail},addUnloadHandlers(){l.forEach(t=>{window.addEventListener(t.type,this[t.handler],!1)})},removeUnloadHandlers(){l.forEach(t=>{window.removeEventListener(t.type,this[t.handler])})},checkCloseAllowed(){if(this.disabledDialog)return!0;if(this.isEdited){const t=confirm(this.$lang.FORMS_CONFIRM);return t}return!0},popStateHandler(){if(this.removeUnloadHandlers(),this.checkCloseAllowed())this.modal&&this.close();else{const t=this.modal?this.modal.hash:"",e=location.href+t;history.pushState({modal:t},document.title,e),this.addUnloadHandlers()}},windowUnloadHandler(t){return!(!this.disabledDialog&&this.isEdited)||(t.returnValue=this.$lang.FORMS_CONFIRM,this.$lang.FORMS_CONFIRM)},close(){this.checkCloseAllowed()&&(this.removeUnloadHandlers(),AWES.off(`modal::${this.modal.name}.before-close`,this.preventModalClose),AWES.emit(`modal::${this.modal.name}.close`))},preventModalClose(t){t.detail.preventClose(),this.close()}},created(){this.$root.$on("forms:submit",t=>{this.name===t&&this.send()}),this.modal&&(this.__unwatchModalPrevent=this.$watch("isEdited",t=>{AWES.on(`modal::${this.modal.name}.before-close`,this.preventModalClose)}))},mounted(){this.addUnloadHandlers(),this.autoSubmit&&(this._unwatchEdit=this.$watch("form.editCounter",this.send))},beforeDestroy(){this.removeUnloadHandlers(),"function"==typeof this.__unwatchModalPrevent&&this.__unwatchModalPrevent(),this.$awesForms.commit("deleteForm",this.name),"function"==typeof this._unwatchEdit&&this._unwatchEdit(),AWES.off(`modal::${this.modal.name}.before-close`,this.preventModalClose)}};const c=u;u.__file="form-builder.vue";var d=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form-builder",class:{modal__form:t.modal},attrs:{action:t.url,method:t.method}},[n("div",{staticClass:"grid grid_forms"},[t._t("default",null,{fields:t.workingState})],2),t._v(" "),t.autoSubmit?t._e():n("div",{class:t.modal?"line-btns":null},[n("div",{class:t.modal?"line-btns__wrap":"line-btns"},[n("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","enter"],expression:"['ctrl', 'enter']"}],staticClass:"btn btn-send waves-effect waves-button",class:{"loading-inline":t.showLoader},attrs:{disabled:!t.isEdited,"data-loading":t.$lang.FORMS_LOADING,type:"submit","data-awes":"modal_button_ok"},on:{shortkey:t.send,click:function(e){return e.preventDefault(),t.send(e)}},nativeOn:{click:function(e){return e.preventDefault(),t.send(e)}}},[t._v("\n          "+t._s(t.sendText||t.$lang.FORMS_SEND)+" "),n("span",{staticClass:"g-res--tablet-lg_n"},[t._v("(ctrl+enter)")])]),t._v(" "),t.modal||t.cancelbtn?n("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["esc"],expression:"['esc']"}],staticClass:"btn waves-effect waves-button",class:{btn_transparent:t.cancelbtn},attrs:{type:"button"},on:{shortkey:t.close,click:function(e){e.preventDefault(),t.modal?t.close():t.$emit("cancel")}}},[t._v("\n          "+t._s(t.cancelText||t.$lang.FORMS_CANCEL)+"\n        ")]):t._e(),t._v(" "),t._t("buttons-after")],2)])])},staticRenderFns:[]},void 0,c,void 0,!1,void 0,void 0,void 0),f={name:"error-wrap",inject:{isModal:{from:"isModal",default:!1}},props:{open:{type:Boolean,default:!1},placement:{type:String,default:"top"},error:{type:Array}}};const h=f;f.__file="fb-error-wrap.vue";var p=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-popover",{staticClass:"display-block",attrs:{placement:t.placement,open:t.open,"popover-class":["theme-error",{tooltip_modal:t.isModal}]}},[t._t("default"),t._v(" "),t.open?n("span",{staticClass:"tooltip__text",attrs:{slot:"popover"},on:{click:function(e){t.$emit("clickTooltip")}},slot:"popover"},[t.error?n("span",{staticClass:"errors__list"},t._l(t.error,function(e,i){return n("span",{key:i},[t._v(t._s(e))])}),0):t._e()]):t._e()],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,void 0,void 0),m=function(t){try{return!!t()}catch(t){return!0}},v=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=function(t){if(!g(t))throw TypeError(t+" is not an object!");return t},y=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),w=y.document,k=g(w)&&g(w.createElement),E=function(t){return k?w.createElement(t):{}},S=!v&&!m(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a}),x=function(t,e){if(!g(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!g(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!g(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!g(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},F=Object.defineProperty,$={f:v?Object.defineProperty:function(t,e,n){if(b(t),e=x(e,!0),b(n),S)try{return F(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},C=function(){var t=b(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};v&&"g"!=/./g.flags&&$.f(RegExp.prototype,"flags",{configurable:!0,get:C});var O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=v?function(t,e,n){return $.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},I={}.hasOwnProperty,D=function(t,e){return I.call(t,e)},L=0,A=Math.random(),R=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++L+A).toString(36))},N=e(function(t){var e=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),M=(N.version,e(function(t){var e=R("src"),n=Function.toString,i=(""+n).split("toString");N.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,r){var s="function"==typeof o;s&&(D(o,"name")||T(o,"name",n)),t[n]!==o&&(s&&(D(o,e)||T(o,e,t[n]?""+t[n]:i.join(String(n)))),t===y?t[n]=o:r?t[n]?t[n]=o:T(t,n,o):(delete t[n],T(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})})),j=/./.toString,V=function(t){M(RegExp.prototype,"toString",t,!0)};m(function(){return"/a/b"!=j.call({source:"a",flags:"b"})})?V(function(){var t=b(this);return"/".concat(t.source,"/","flags"in t?t.flags:!v&&t instanceof RegExp?C.call(t):void 0)}):"toString"!=j.name&&V(function(){return j.call(this)});var P={props:{name:{type:String,required:!0},id:Number,disabled:{type:Boolean,default:!1},cell:{type:[String,Number],validator(t){return["2","3"].includes(t.toString())}}},inject:{formId:{from:"formId",default:!1},isModal:{from:"isModal",default:!1},multiblock:{from:"multiblock",default:!1}},data(){return{tooltip:!1,hasError:!1}},computed:{realName(){return this.multiblock?`${this.multiblock}.${this.id}.${this.name}`:this.name},computedValue(){return this.$awesForms.getters.fieldValue(this.formId,this.realName)},formLoading(){return this.$awesForms.getters.loading(this.formId)},inActive(){return!(!this.inFocus&&!this.value)},isDisabled(){return this.formLoading||this.disabled||this.isMultiblockDisabled},isMultiblockDisabled(){return!!this.multiblock&&this.$awesForms.getters.multiblockDisabled(this.formId,this.multiblock)},cellClass(){return this.cell?"grid__cell_"+this.cell:""},error(){return this.$awesForms.getters.fieldError(this.formId,this.realName)},firstErrorField(){return this.$awesForms.getters.firstErrorField(this.formId)},shake(){return!this.formLoading&&this.tooltip}},watch:{error:{handler:function(t){t?(this.tooltip=!0,this.hasError=!0,this.$refs.element&&this.$refs.element.addEventListener("input",this.resetError,!1),"function"==typeof this.setFocus&&this.$nextTick(this.checkFocus)):(this.tooltip=!1,this.hasError=!1,this.resetInputWatcher())},immediate:!0}},methods:{createStoreInstance(){this.$awesForms.commit("setField",{id:this.formId,fieldName:this.realName,value:this.value,initial:!0})},initField(){void 0!==this.computedValue&&(this.value=this.computedValue),this.createStoreInstance(),this.__unwatchValue=this.$watch("value",this.valueHandler),this.multiblock&&(this.__unwatchId=this.$watch("id",this.idHandler))},idHandler(t,e){const n=`${this.multiblock}.${e}.${this.name}`,i=this.$awesForms.getters.fieldError(this.formId,n);i&&this.$awesForms.commit("renameError",{id:this.formId,oldName:n,newName:this.realName,message:i})},valueHandler(t){this.$awesForms.commit("setField",{id:this.formId,fieldName:this.realName,value:t})},clickTooltip(){this.tooltip=!1,"function"==typeof this.setFocus&&this.setFocus()},resetError(){this.tooltip=!1,this.$awesForms.commit("resetError",{id:this.formId,fieldName:this.realName}),this.resetInputWatcher()},resetInputWatcher(){this.$refs.element&&this.$refs.element.removeEventListener("input",this.resetError)},resetValue(t){this.formId===t&&(this.value=void 0)},checkFocus(){this.firstErrorField===this.realName&&(setTimeout(this.setFocus,0),this.$awesForms.commit("resetFirstErrorField",this.formId))}},created(){this.initField(),this.$root.$on("forms:reset",this.resetValue)},beforeDestroy(){this.multiblock&&(this.resetError(),this.$awesForms.commit("unsetRealField",{id:this.formId,fieldName:this.realName})),this.__unwatchValue(),"function"==typeof this.__unwatchId&&this.__unwatchId(),this.resetInputWatcher(),this.$root.$off("forms:reset",this.resetValue)}},H=e(function(t){var e=y["__core-js_shared__"]||(y["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:N.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),B=e(function(t){var e=H("wks"),n=y.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:R)("Symbol."+t))}).store=e}),z=B("unscopables"),W=Array.prototype;void 0==W[z]&&T(W,z,{});var U=function(t){W[z][t]=!0},q=function(t,e){return{value:e,done:!!t}},G={},X={}.toString,Y=function(t){return X.call(t).slice(8,-1)},K=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Y(t)?t.split(""):Object(t)},J=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Z=function(t){return K(J(t))},Q=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},tt=function(t,e,n){if(Q(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}},et=function(t,e,n){var i,o,r,s,a=t&et.F,l=t&et.G,u=t&et.S,c=t&et.P,d=t&et.B,f=l?y:u?y[e]||(y[e]={}):(y[e]||{}).prototype,h=l?N:N[e]||(N[e]={}),p=h.prototype||(h.prototype={});l&&(n=e);for(i in n)r=((o=!a&&f&&void 0!==f[i])?f:n)[i],s=d&&o?tt(r,y):c&&"function"==typeof r?tt(Function.call,r):r,f&&M(f,i,r,t&et.U),h[i]!=r&&T(h,i,s),c&&p[i]!=r&&(p[i]=r)};y.core=N,et.F=1,et.G=2,et.S=4,et.P=8,et.B=16,et.W=32,et.U=64,et.R=128;var nt=et,it=Math.ceil,ot=Math.floor,rt=function(t){return isNaN(t=+t)?0:(t>0?ot:it)(t)},st=Math.min,at=function(t){return t>0?st(rt(t),9007199254740991):0},lt=Math.max,ut=Math.min,ct=function(t,e){return t=rt(t),t<0?lt(t+e,0):ut(t,e)},dt=H("keys"),ft=function(t){return dt[t]||(dt[t]=R(t))},ht=function(t){return function(e,n,i){var o,r=Z(e),s=at(r.length),a=ct(i,s);if(t&&n!=n){for(;s>a;)if((o=r[a++])!=o)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===n)return t||a||0;return!t&&-1}}(!1),pt=ft("IE_PROTO"),mt=function(t,e){var n,i=Z(t),o=0,r=[];for(n in i)n!=pt&&D(i,n)&&r.push(n);for(;e.length>o;)D(i,n=e[o++])&&(~ht(r,n)||r.push(n));return r},vt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),gt=Object.keys||function(t){return mt(t,vt)},_t=v?Object.defineProperties:function(t,e){b(t);for(var n,i=gt(e),o=i.length,r=0;o>r;)$.f(t,n=i[r++],e[n]);return t},bt=y.document,yt=bt&&bt.documentElement,wt=ft("IE_PROTO"),kt=function(){},Et=function(){var t,e=E("iframe"),n=vt.length;for(e.style.display="none",yt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Et=t.F;n--;)delete Et.prototype[vt[n]];return Et()},St=Object.create||function(t,e){var n;return null!==t?(kt.prototype=b(t),n=new kt,kt.prototype=null,n[wt]=t):n=Et(),void 0===e?n:_t(n,e)},xt=$.f,Ft=B("toStringTag"),$t=function(t,e,n){t&&!D(t=n?t:t.prototype,Ft)&&xt(t,Ft,{configurable:!0,value:e})},Ct={};T(Ct,B("iterator"),function(){return this});var Ot=function(t,e,n){t.prototype=St(Ct,{next:O(1,n)}),$t(t,e+" Iterator")},Tt=function(t){return Object(J(t))},It=ft("IE_PROTO"),Dt=Object.prototype,Lt=Object.getPrototypeOf||function(t){return t=Tt(t),D(t,It)?t[It]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Dt:null},At=B("iterator"),Rt=!([].keys&&"next"in[].keys()),Nt=function(){return this},Mt=function(t,e,n,i,o,r,s){Ot(n,e,i);var a,l,u,c=function(t){if(!Rt&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",f="values"==o,h=!1,p=t.prototype,m=p[At]||p["@@iterator"]||o&&p[o],v=m||c(o),g=o?f?c("entries"):v:void 0,_="Array"==e?p.entries||m:m;if(_&&(u=Lt(_.call(new t)))!==Object.prototype&&u.next&&($t(u,d,!0),"function"!=typeof u[At]&&T(u,At,Nt)),f&&m&&"values"!==m.name&&(h=!0,v=function(){return m.call(this)}),(Rt||h||!p[At])&&T(p,At,v),G[e]=v,G[d]=Nt,o)if(a={values:f?v:c("values"),keys:r?v:c("keys"),entries:g},s)for(l in a)l in p||M(p,l,a[l]);else nt(nt.P+nt.F*(Rt||h),e,a);return a}(Array,"Array",function(t,e){this._t=Z(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,q(1)):"keys"==e?q(0,n):"values"==e?q(0,t[n]):q(0,[n,t[n]])},"values");G.Arguments=G.Array,U("keys"),U("values"),U("entries");for(var jt=B("iterator"),Vt=B("toStringTag"),Pt=G.Array,Ht={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Bt=gt(Ht),zt=0;zt<Bt.length;zt++){var Wt,Ut=Bt[zt],qt=Ht[Ut],Gt=y[Ut],Xt=Gt&&Gt.prototype;if(Xt&&(Xt[jt]||T(Xt,jt,Pt),Xt[Vt]||T(Xt,Vt,Ut),G[Ut]=Pt,qt))for(Wt in Mt)Xt[Wt]||M(Xt,Wt,Mt[Wt],!0)}var Yt={props:{enterSkip:{type:Boolean,default:!1},focus:{type:Boolean,default:!1}},data(){return{inFocus:this.focus}},computed:{isFocusable(){return!this.enterSkip&&!this.disabled&&this.formId}},methods:{focusNext(t){try{const e=t.target.closest("form"),n=e.querySelectorAll(".is-focusable"),i=Array.from(n).findIndex(e=>e===t.target)+1;if(i<n.length)n[i].focus();else{t.target.blur();const n=e.querySelector('[type="submit"]');this.$nextTick(()=>{n.click();this.initWawesEffect(n)})}}catch(t){console.warn("Error while setting focus"),console.error(t)}},setFocus(t){try{let e=!1!==t?"focus":"blur";this.$refs.element[e]()}catch(t){console.warn("Error while setting focus"),console.error(t)}},initWawesEffect(t){let e={top:0,left:0};"function"==typeof t.getBoundingClientRect&&(e=t.getBoundingClientRect()),n("mousedown",t,{pageY:e.top+window.pageYOffset-document.documentElement.clientTop+t.clientHeight/2,pageX:e.left+window.pageXOffset-document.documentElement.clientLeft+t.clientWidth/2}),setTimeout(n,250,"mouseup",t)}},mounted(){this.setFocus(this.focus)}};let Kt=0;var Jt={name:"fb-input",inheritAttrs:!1,mixins:[P,Yt],props:{label:{type:String,default:""},spellcheck:{type:Boolean,default:!1}},data(){return{value:"",inputType:this.$attrs.type||"text",autoFilled:!1}},computed:{inputId(){return"input-"+Kt++}},methods:{togglePassword(){this.setFocus(),"password"===this.inputType?this.inputType="text":this.inputType="password"},autoFillHack(t){switch(t.animationName){case"autoFillStart":this.autoFilled=!0;break;case"autoFillEnd":this.autoFilled=!1}}}};const Zt=Jt;Jt.__file="fb-input.vue";var Qt=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input grid__cell",class:[{input_active:t.inActive||t.autoFilled,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{class:["input",{input_disabled:t.isDisabled}]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("label",{staticClass:"input__label input__label_field",attrs:{for:"#"+t.inputId}},[t._v(t._s(t.label))]),t._v(" "),"checkbox"===t.inputType?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,change:function(e){var n=t.value,i=e.target,o=!!i.checked;if(Array.isArray(n)){var r=t._i(n,null);i.checked?r<0&&(t.value=n.concat([null])):r>-1&&(t.value=n.slice(0,r).concat(n.slice(r+1)))}else t.value=o}}},"input",t.$attrs,!1)):"radio"===t.inputType?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,change:function(e){t.value=null}}},"input",t.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:t.inputType},domProps:{value:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,input:function(e){e.target.composing||(t.value=e.target.value)}}},"input",t.$attrs,!1)),t._v(" "),"password"===t.$attrs.type?n("button",{staticClass:"input__eye",attrs:{type:"button","aria-label":t.$lang.SHOW_PASSWORD},on:{click:function(e){return e.preventDefault(),t.togglePassword(e)}}},[n("i",{class:["icon","password"===t.inputType?"icon-eye":"icon-eye2"]})]):t._e()])],1)])},staticRenderFns:[]},void 0,Zt,void 0,!1,void 0,void 0,void 0);let te=0;var ee={name:"fb-multi-block",mixins:[P],props:{label:String},provide(){return{multiblock:this.multiblock?this.realName:this.name}},data(){return{value:[{}],uniqIds:[]}},computed:{hasClose(){return this.value.length>1},errors(){return this.$awesForms.getters.formErrorsOrFalse(this.formId)}},watch:{disabled:{handler:function(t){this.$awesForms.commit("toggleMultiblockState",{id:this.formId,multiblock:this.realName,value:t})},immediate:!0}},methods:{initField(){if(void 0!==this.computedValue&&this.computedValue.length){this.value=this.computedValue;for(let t in this.computedValue)this.uniqIds.push(te++)}else this.uniqIds.push(te++);this.createStoreInstance(),this.__unwatchValue=this.$watch("value",this.valueHandler)},addField(){this.isDisabled||(this.value.push({}),this.uniqIds.push(te++),this.updateTooltips())},removeField(t){this.isDisabled||(this.$delete(this.value,t),this.uniqIds.splice(t,1),this.updateTooltips())},resetValue(){this.value=[{}]},updateTooltips(){this.errors&&this.$nextTick(()=>{n("scroll",window)})}}};const ne=ee;ee.__file="fb-multi-block.vue";var ie=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["grid__wrap multi-bl",{"multi-bl_disabled":this.isDisabled}]},[t._l(t.value,function(e,i){return n("div",{key:"slot-"+t.uniqIds[i],class:["grid__wrap",{"multi-bl__has-close":t.hasClose}]},[t._t("default",null,{id:i}),t._v(" "),t.hasClose?n("button",{staticClass:"multi-bl__clear",attrs:{"aria-label":"delete"},on:{click:function(e){e.preventDefault(),t.removeField(i)}}},[n("i",{staticClass:"icon icon-cross"})]):t._e()],2)}),t._v(" "),n("button",{staticClass:"multi-bl__add",on:{click:function(e){return e.preventDefault(),t.addField(e)}}},[t._v("\n    "+t._s(t.label||t.$lang.FORMS_MULTIBLOCK_ADD)+"\n  ")])],2)},staticRenderFns:[]},void 0,ne,void 0,!1,void 0,void 0,void 0),oe={name:"fb-checkbox",inheritAttrs:!1,mixins:[P,Yt],props:{label:{type:String,required:!0},padding:{type:Boolean,default:!0},theme:String},data(){return{value:!1}},computed:{themeClass(){return this.theme?`checkbox_${this.theme}`:null},isSwitcher(){return"s2"===this.theme}},methods:{enableSwitcher(){this.__hammer=new Hammer.Manager(this.$refs.switcher,{recognizers:[[Hammer.Swipe,{threshold:5,velocity:.1,direction:Hammer.DIRECTION_HORIZONTAL}]]}),this.__hammer.on("swipeleft",()=>{this.value=!1}),this.__hammer.on("swiperight",()=>{this.value=!0})}},mounted(){this.isSwitcher&&this.enableSwitcher()},beforeDestroy(){this.isSwitcher&&(this.__hammer.destroy(),delete this.__hammer)}};const re=oe;oe.__file="fb-checkbox.vue";var se=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid__cell",class:[{checkbox_error:t.hasError},{checkbox_active:t.inActive},{grid__cell_padding:t.padding},t.cellClass]},[n("label",{class:["checkbox",t.themeClass,{checkbox_disabled:t.isDisabled}],attrs:{"data-awes":t.$options.name+"."+t.name}},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:{"is-focusable":t.isFocusable,"in-focus":t.inFocus},attrs:{type:"checkbox",disabled:t.isDisabled},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},change:function(e){var n=t.value,i=e.target,o=!!i.checked;if(Array.isArray(n)){var r=t._i(n,null);i.checked?r<0&&(t.value=n.concat([null])):r>-1&&(t.value=n.slice(0,r).concat(n.slice(r+1)))}else t.value=o}}},"input",t.$attrs,!1)),t._v(" "),n("span",{staticClass:"checkbox__text"},[n("i",{ref:"switcher",staticClass:"icon icon-checkbox"}),t._v(" "),n("span",[t._v(t._s(t.label))])])])],1)])},staticRenderFns:[]},void 0,re,void 0,!1,void 0,void 0,void 0),ae={name:"fb-select",inheritAttrs:!1,mixins:[P],props:{label:String,selectOptions:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!0},placeholderText:String},data(){return{selected:[],isOpened:!1}},computed:{value:{get(){return this.multiple?this.selected.map(t=>t.value):this.selected.value},set(t){this.multiple?this.selected=this.selectOptions.filter(e=>t.includes(e.value)):this.selected=this.selectOptions.find(e=>t===e.value)}},hasValue(){return!!(this.multiple?this.value.length:this.value)},inActive(){return this.isOpened||this.hasValue}},methods:{resetValue(t){this.formId===t&&(this.value=[])}}};const le=ae;ae.__file="fb-select.vue";var ue=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mselect grid__cell",class:[{mselect_active:t.inActive},{mselect_opened:t.isOpened},t.cellClass]},[n("span",{staticClass:"mselect__label"},[t._v(t._s(t.label||t.$lang.FORMS_SELECT_LABEL))]),t._v(" "),n("multiselect",{staticClass:"input__field",attrs:{"show-labels":!1,multiple:t.multiple,placeholder:t.placeholderText||t.$lang.FORMS_SELECT_PLACEHOLDER,options:t.selectOptions,label:"name","track-by":"value","hide-selected":!0},on:{open:function(e){t.isOpened=!0},close:function(e){t.isOpened=!1}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},staticRenderFns:[]},void 0,le,void 0,!1,void 0,void 0,void 0),ce=e(function(t,e){!function(n,i){!function(t,e){function n(t){function e(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function n(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function i(){if(0!==t.scrollHeight){var e=n(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+a+"px",l=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),i&&(document.documentElement.scrollTop=i)}}function o(){i();var n=Math.round(parseFloat(t.style.height)),o=window.getComputedStyle(t,null),r="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):t.offsetHeight;if(r<n?"hidden"===o.overflowY&&(e("scroll"),i(),r="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==o.overflowY&&(e("hidden"),i(),r="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),u!==r){u=r;var a=s("autosize:resized");try{t.dispatchEvent(a)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!r.has(t)){var a=null,l=null,u=null,c=function(){t.clientWidth!==l&&o()},d=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",o,!1),t.removeEventListener("keyup",o,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",o,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),r.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",o,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",o,!1),t.addEventListener("autosize:update",o,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",r.set(t,{destroy:d,update:o}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),a="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(a)&&(a=0),o()}()}}function i(t){var e=r.get(t);e&&e.destroy()}function o(t){var e=r.get(t);e&&e.update()}var r="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,i){-1===t.indexOf(n)&&(t.push(n),e.push(i))},delete:function(n){var i=t.indexOf(n);i>-1&&(t.splice(i,1),e.splice(i,1))}}}(),s=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){s=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((a=function(t){return t}).destroy=function(t){return t},a.update=function(t){return t}):((a=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},a.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t}),e.default=a,t.exports=e.default}(t,e)}()});let de;var fe={name:"fb-textarea",inheritAttrs:!1,mixins:[P,Yt],props:{label:{type:String,default:""},fixsize:{type:Boolean,default:!1}},data(){return{value:""}},methods:{setAutoResize(){this.fixsize||(ce(this.$refs.element),de=this.$watch("value",this.updateAutoResize))},updateAutoResize(){this.$nextTick(()=>{ce.update(this.$refs.element)})}},mounted(){this.setAutoResize()},beforeDestroy(){"function"==typeof de&&de()}};const he=fe;fe.__file="fb-textarea.vue";var pe=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input grid__cell",class:[{input_active:t.inActive,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{staticClass:"input",class:{input_disabled:t.isDisabled}},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("span",{staticClass:"input__label"},[t._v(t._s(t.label))]),t._v(" "),n("textarea",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__textarea",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus}],attrs:{disabled:t.isDisabled},domProps:{value:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},input:function(e){e.target.composing||(t.value=e.target.value)}}},"textarea",t.$attrs,!1))])],1)])},staticRenderFns:[]},void 0,he,void 0,!1,void 0,void 0,void 0),me=B("match"),ve=function(t){var e;return g(t)&&(void 0!==(e=t[me])?!!e:"RegExp"==Y(t))},ge=B("species"),_e=function(t,e){var n,i=b(t).constructor;return void 0===i||void 0==(n=b(i)[ge])?e:Q(n)},be=function(t){return function(e,n){var i,o,r=String(J(e)),s=rt(n),a=r.length;return s<0||s>=a?t?"":void 0:(i=r.charCodeAt(s),i<55296||i>56319||s+1===a||(o=r.charCodeAt(s+1))<56320||o>57343?t?r.charAt(s):i:t?r.slice(s,s+2):o-56320+(i-55296<<10)+65536)}}(!0),ye=function(t,e,n){return e+(n?be(t,e).length:1)},we=B("toStringTag"),ke="Arguments"==Y(function(){return arguments}()),Ee=function(t,e){try{return t[e]}catch(t){}},Se=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Ee(e=Object(t),we))?n:ke?Y(e):"Object"==(i=Y(e))&&"function"==typeof e.callee?"Arguments":i},xe=RegExp.prototype.exec,Fe=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==Se(t))throw new TypeError("RegExp#exec called on incompatible receiver");return xe.call(t,e)},$e=RegExp.prototype.exec,Ce=String.prototype.replace,Oe=$e,Te=function(){return $e.call(/a/,"a"),$e.call(/b*/g,"a"),0!==/a/.lastIndex||0!==/b*/g.lastIndex}(),Ie=void 0!==/()??/.exec("")[1];(Te||Ie)&&(Oe=function(t){var e,n,i,o,r=this;return Ie&&(n=new RegExp("^"+r.source+"$(?!\\s)",C.call(r))),Te&&(e=r.lastIndex),i=$e.call(r,t),Te&&i&&(r.lastIndex=r.global?i.index+i[0].length:e),Ie&&i&&i.length>1&&Ce.call(i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i});var De=Oe;nt({target:"RegExp",proto:!0,forced:De!==/./.exec},{exec:De});var Le=B("species"),Ae=!m(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Re=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Ne=function(t,e,n){var i=B(t),o=!m(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)}),r=o?!m(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[Le]=function(){return n}),n[i](""),!e}):void 0;if(!o||!r||"replace"===t&&!Ae||"split"===t&&!Re){var s=/./[i],a=n(J,i,""[t],function(t,e,n,i,r){return e.exec===De?o&&!r?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),l=a[0],u=a[1];M(String.prototype,t,l),T(RegExp.prototype,i,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)})}},Me=Math.min,je=[].push,Ve="length",Pe=!!function(){try{return new RegExp("x","y")}catch(t){}}();Ne("split",2,function(t,e,n,i){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[Ve]||2!="ab".split(/(?:ab)*/)[Ve]||4!=".".split(/(.?)(.?)/)[Ve]||".".split(/()()/)[Ve]>1||"".split(/.?/)[Ve]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!ve(t))return n.call(i,t,e);for(var o,r,s,a=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,l+"g");(o=De.call(d,i))&&!((r=d.lastIndex)>u&&(a.push(i.slice(u,o.index)),o[Ve]>1&&o.index<i[Ve]&&je.apply(a,o.slice(1)),s=o[0][Ve],u=r,a[Ve]>=c));)d.lastIndex===o.index&&d.lastIndex++;return u===i[Ve]?!s&&d.test("")||a.push(""):a.push(i.slice(u)),a[Ve]>c?a.slice(0,c):a}:"0".split(void 0,0)[Ve]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,r,i):o.call(String(r),n,i)},function(t,e){var r=i(o,t,this,e,o!==n);if(r.done)return r.value;var s=b(t),a=String(this),l=_e(s,RegExp),u=s.unicode,c=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Pe?"y":"g"),d=new l(Pe?s:"^(?:"+s.source+")",c),f=void 0===e?4294967295:e>>>0;if(0===f)return[];if(0===a.length)return null===Fe(d,a)?[a]:[];for(var h=0,p=0,m=[];p<a.length;){d.lastIndex=Pe?p:0;var v,g=Fe(d,Pe?a:a.slice(p));if(null===g||(v=Me(at(d.lastIndex+(Pe?0:p)),a.length))===h)p=ye(a,p,u);else{if(m.push(a.slice(h,p)),m.length===f)return m;for(var _=1;_<=g.length-1;_++)if(m.push(g[_]),m.length===f)return m;p=h=v}}return m.push(a.slice(h)),m}]});var He=Math.max,Be=Math.min,ze=Math.floor,We=/\$([$&`']|\d\d?|<[^>]*>)/g,Ue=/\$([$&`']|\d\d?)/g,qe=function(t){return void 0===t?t:String(t)};Ne("replace",2,function(t,e,n,i){function o(t,e,i,o,r,s){var a=i+t.length,l=o.length,u=Ue;return void 0!==r&&(r=Tt(r),u=We),n.call(s,u,function(n,s){var u;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":u=r[s.slice(1,-1)];break;default:var c=+s;if(0===c)return n;if(c>l){var d=ze(c/10);return 0===d?n:d<=l?void 0===o[d-1]?s.charAt(1):o[d-1]+s.charAt(1):n}u=o[c-1]}return void 0===u?"":u})}return[function(i,o){var r=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,r,o):n.call(String(r),i,o)},function(t,e){var r=i(n,t,this,e);if(r.done)return r.value;var s=b(t),a=String(this),l="function"==typeof e;l||(e=String(e));var u=s.global;if(u){var c=s.unicode;s.lastIndex=0}for(var d=[];;){var f=Fe(s,a);if(null===f)break;if(d.push(f),!u)break;""===String(f[0])&&(s.lastIndex=ye(a,at(s.lastIndex),c))}for(var h="",p=0,m=0;m<d.length;m++){f=d[m];for(var v=String(f[0]),g=He(Be(rt(f.index),a.length),0),_=[],y=1;y<f.length;y++)_.push(qe(f[y]));var w=f.groups;if(l){var k=[v].concat(_,g,a);void 0!==w&&k.push(w);var E=String(e.apply(void 0,k))}else E=o(v,a,g,_,w,e);g>=p&&(h+=a.slice(p,g)+E,p=g+v.length)}return h+a.slice(p)}]});var Ge={name:"fb-code",mixins:[P,Yt],props:{length:{type:Number,default:6},autoSubmit:{type:Boolean,default:!0}},data(){return{inputValue:[],inFocus:[]}},computed:{value:{get(){return this.inputValue.join("")},set(t){t=t.trim().replace(/\D/g,"").substr(0,this.length),this.inputValue=t.split("")}},hasCaptchaError(){return this.$awesForms.getters.hasCaptchaError(this.formId)}},watch:{error(t){t&&t.length?(this.value="",this.$refs.fields.forEach(t=>{t.addEventListener("input",this.resetError,!1)}),this.$nextTick(()=>{this.setFocus()})):this.$refs.fields.forEach(t=>{t.removeEventListener("input",this.resetError)})},hasCaptchaError(t){t||this.autoSubmitForm(this.value)}},methods:{setFocus(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("boolean"==typeof t&&!0===t)return void this.$refs.fields[0].focus();if("number"==typeof t){t>=this.length&&(t=this.length-1);const e=this.$refs.fields[t];setTimeout(()=>{e.focus();e.setSelectionRange(0,e.value.length)},10)}},onInput(t,e){const n=t.target.value.replace(/\D/g,"");t.target.value=n,this.$set(this.inputValue,e,n),this.isEmpty(e)||e===this.length-1||this.setFocus(e+1)},onBackspace(t,e){this.setFocus(e-1)},onLeft(t,e){this.setFocus(e-1)},onRight(t,e){this.setFocus(e+1)},onPaste(t){this.error&&this.error.length&&this.resetError(),this.value=t.clipboardData.getData("text")},isEmpty(t){return""===this.inputValue[t]||void 0===this.inputValue[t]},autoSubmitForm(t){this.hasCaptchaError||t.length===this.length&&this.$root.$emit("forms:submit",this.formId)}},created(){for(let t=0;t<this.length;t++)this.inFocus.push(!(0!==t||!this.focus)),this.inputValue.push("");this.autoSubmit&&(this.__unwatchFormSubmit=this.$watch("value",this.autoSubmitForm))},beforeDestroy(){this.$refs.fields.forEach(t=>{t.removeEventListener("input",this.resetError)}),this.__unwatchFormSubmit&&this.__unwatchFormSubmit()}};const Xe=Ge;Ge.__file="fb-code.vue";var Ye=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["keycode",{"animated shake":t.shake}]},[n("div",{staticClass:"keycode__block",class:{input_disabled:t.isDisabled}},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("div",{staticClass:"keycode__wrap",attrs:{id:"keywrap"}},t._l(t.length,function(e){return n("div",{staticClass:"keycode__ffield"},[n("input",{ref:"fields",refInFor:!0,class:["keycode__field",{"is-focusable":t.isFocusable,"in-focus":t.inFocus[e-1]}],attrs:{type:"tel",inputmode:"numeric",pattern:"[0-9]*",maxlength:"1",disabled:t.isDisabled},domProps:{value:t.inputValue[e-1]},on:{focus:function(n){t.inFocus[e-1]=!0},blur:function(n){t.inFocus[e-1]=!1},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},function(n){if(!("button"in n)&&t._k(n.keyCode,"backspace",void 0,n.key,void 0))return null;e>1&&t.onBackspace(n,e-1)},function(n){return"button"in n||!t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])?"button"in n&&0!==n.button?null:void(e>1&&t.onLeft(n,e-1)):null},function(n){return"button"in n||!t._k(n.keyCode,"right",39,n.key,["Right","ArrowRight"])?"button"in n&&2!==n.button?null:void(e<t.length&&t.onRight(n,e-1)):null}],input:function(n){t.onInput(n,e-1)},paste:function(e){return e.preventDefault(),t.onPaste(e)}}})])}),0)])],1)])},staticRenderFns:[]},void 0,Xe,void 0,!1,void 0,void 0,void 0),Ke={companySlug:{domain:"awescrm.de",length:32,ulrifyOptions:{spaces:"-",toLower:!0,trim:!0,addEToUmlauts:!0,nonPrintable:"",failureOutput:""}}},Je={name:"fb-company-slug",extends:Qt,props:{domain:String,input:{type:String,required:!0},maxLength:Number},data(){return{watchInput:!0}},computed:{fromName(){return this.multiblock?`${this.multiblock}.${this.id}.${this.input}`:this.input},fromValue(){return this.$awesForms.getters.fieldValue(this.formId,this.fromName)}},watch:{fromValue(t){this.watchInput&&(this.value=this.noramlizeUrl(t))}},methods:{noramlizeUrl(t){return this._toUrl(t).substr(0,this.maxlength)},toggleWatcher(t){""===t.target.value?this.watchInput=!0:this.watchInput&&(this.watchInput=!1)},slugBlur(t){this.inFocus=!1,this.watchInput||(this.value=this.noramlizeUrl(t.target.value))}},beforeCreate(){this._config=Object.assign({},Ke.companySlug,AWES._config.companySlug),this._toUrl=Urlify.create(this._config.ulrifyOptions)}};const Ze="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),Qe=document.head||document.getElementsByTagName("head")[0],tn={},en=Je;Je.__file="fb-company-slug.vue";var nn=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input fb__input_slug grid__cell",class:[{input_active:t.inActive,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{class:["input",{input_disabled:t.isDisabled}]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("div",{staticClass:"fb__input-wrap"},[n("span",{staticClass:"fb__input-inner"},[n("label",{staticClass:"input__label",attrs:{for:"#"+t.inputId}},[t._v(t._s(t.label))]),t._v(" "),n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,maxlength:t.maxLength||t._config.length,type:"text",disabled:t.isDisabled},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.toggleWatcher],focus:function(e){t.inFocus=!0},blur:t.slugBlur,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null}}},"input",t.$attrs,!1))]),t._v(" "),n("span",{staticClass:"fb__input-domain"},[t._v("."+t._s(t.domain||t._config.domain))])])])],1)])},staticRenderFns:[]},function(t){t&&t("data-v-1883dc2a_0",{source:".fb__input_slug .input__field{text-align:right;padding-right:5px}.fb__input_slug .fb__input-wrap{display:flex}.fb__input_slug .fb__input-inner{flex-grow:1;display:block;position:relative}.fb__input_slug .fb__input-domain{color:grey;width:auto;display:inline-flex;align-items:center;font-size:16px;padding:12px 0 0 5px}",map:void 0,media:void 0})},en,void 0,!1,void 0,i,void 0),on={name:"fb-auto-captcha",mixins:[P],props:{show:{type:Boolean,default:!1},name:{default:"g-recaptcha-response"}},data(){return{value:null,sitekey:AWES_CONFIG.reCaptchaSiteKey,serverError:!1,reset:!1}},computed:{realName(){return"g-recaptcha-response"},isShow(){return this.show||this.serverError},theme(){try{let t=this.$store.state.theme;return t&&1===t.theme_dark?"dark":"light"}catch(t){return"light"}}},watch:{error(t){t&&t.length&&(this.serverError=!0)},formLoading(t){!t&&this.isShow&&this.$nextTick(()=>{this.$refs.recaptcha.reset()})},theme(){this.isShow&&(this.reset=!0,this.$nextTick(()=>{this.reset=!1}))}},methods:{onVerify(t){this.value=t,this.resetError()},manageCaptchaScript(t){switch(t){case"add":if(!document.getElementById("g-captcha-script")){const t=document.createElement("script");t.setAttribute("id","g-captcha-script"),t.setAttribute("src","https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit"),document.head.appendChild(t)}break;case"remove":document.getElementById("g-captcha-script").remove()}}},created(){this.$isServer||this.manageCaptchaScript("add")},beforeDestroy(){this.manageCaptchaScript("remove")}};const rn=on;on.__file="fb-auto-captcha.vue";var sn=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow&&!t.reset?n("div",{class:["grid__cell",t.cellClass]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("vue-recaptcha",{ref:"recaptcha",staticClass:"re-captcha",attrs:{sitekey:t.sitekey,theme:t.theme},on:{verify:t.onVerify,expired:function(e){t.value=null}}})],1)],1):t._e()},staticRenderFns:[]},void 0,rn,void 0,!1,void 0,void 0,void 0),an={name:"fb-radio-group",mixins:[P,Yt],props:{box:{type:Boolean,default:!1},items:Array},data(){return{value:null,inFocus:[]}},methods:{checkActive(t){return t.value?this.value===t.value:this.value===t.toString()},setFocus(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"number"==typeof t?this.$refs.elements[t].focus():!0===t&&this.$refs.elements[0].focus()}},created(){for(let t=0;t<this.items.length;t++)this.inFocus.push(!(0!==t||!this.focus))}};const ln=an;an.__file="fb-radio-group.vue";var un=t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items&&t.items.length?n("div",{staticClass:"grid__cell",class:[{"animated shake":t.shake},t.cellClass]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("span",{class:["display-block",{"fc-radio":t.box}]},t._l(t.items,function(e,i){return n("label",{key:i,class:[{"fc-radio__box":t.box,"is-checked":t.checkActive(e)}]},[n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"fields",refInFor:!0,class:["fc-radio__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus}],attrs:{type:"radio","data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled},domProps:{value:e.value?e.value:e.toString(),checked:t._q(t.value,e.value?e.value:e.toString())},on:{focus:function(e){t.$set(t.inFocus,i,!0)},blur:function(e){t.$set(t.inFocus,i,!1)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},change:function(n){t.value=e.value?e.value:e.toString()}}},"input",t.$attrs,!1)),t._v(" "),t._t("default",[n("span",{staticClass:"fc-radio__text"},[t._v(t._s(e.name?e.name:e.toString()))])],{item:e,checked:t.checkActive(e),focused:t.inFocus[i]})],2)}),0)])],1):t._e()},staticRenderFns:[]},void 0,ln,void 0,!1,void 0,void 0,void 0),cn={installed:!1,install:r},dn={FORMS_SEND:"Send",FORMS_CANCEL:"Cancel",FORMS_LOADING:"Loading...",FORMS_CONFIRM:"Are you shure? All not submitted data will be erased...",FORMS_MULTIBLOCK_ADD:"add",FORMS_SELECT_LABEL:"Select a value",FORMS_SELECT_PLACEHOLDER:"Pick a value"};const fn=t=>{let e=t.id,n=t.url,i=t.method,o=t.storeData;return{id:e,url:n,storeData:o,initialState:{_method:i},realFields:[],workingState:{},loading:!1,isEdited:!1,editCounter:0,errors:{},firstErrorField:null,multiblockState:{}}};var hn={state:{forms:[]},getters:{form:t=>e=>t.forms.find(t=>t.id==e),formErrorsOrFalse:(t,e)=>t=>{const n=e.form(t).errors;return!!Object.keys(n).length&&n},isEdited:(t,e)=>t=>e.form(t).isEdited,fieldValue:(t,e)=>(t,n)=>_.get(e.form(t).workingState,n),fieldError:(t,e)=>(t,n)=>_.get(e.form(t).errors,n),firstErrorField:(t,e)=>t=>e.form(t).firstErrorField,workingState:(t,e)=>t=>{const n=e.form(t);return n.workingState},loading:(t,e)=>t=>e.form(t).loading,multiblockDisabled:(t,e)=>(t,n)=>_.get(e.form(t).multiblockState,n),hasCaptchaError:(t,e)=>t=>!!e.form(t).errors.hasOwnProperty("g-recaptcha-response")},mutations:{createForm(t,e){if(this.getters.form(e.id))throw new Error(`Form with ID ${e.id} already exists`);t.forms.push(fn(e))},deleteForm(t,e){const n=t.forms.findIndex(t=>t.id===e);-1!==n?Vue.delete(t.forms,n):console.warn("No form to delete with id: "+e)},setDefaultData(t,e){let n=e.id,i=e.fields;const o=this.getters.form(n);o.initialState=_.merge(o.initialState,_.cloneDeep(i)),o.workingState=_.cloneDeep(o.initialState)},resetFormEdited(t,e){this.getters.form(e).isEdited=!1},setErrors(t,e){let n=e.id,i=e.errors;const o=this.getters.form(n);o.firstErrorField=Object.keys(i)[0],o.errors=i},resetError(t,e){let n=e.id,i=e.fieldName;const o=this.getters.form(n);o&&(delete o.errors[i],s(t,n,`errors`,o.errors))},resetErrors(t,e){this.getters.form(e).errors={}},renameError(t,e){let n=e.id,i=e.oldName,o=e.newName,r=e.message;const s=this.getters.form(n);Vue.set(s.errors,o,r),Vue.delete(s.errors,i)},setField(t,e){let n=e.id,i=e.fieldName,o=e.value,r=e.initial;s(t,n,`workingState.${i}`,o);const a=this.getters.form(n);r&&a.realFields.push(i),!0!==r&&(a.editCounter+=1,a.isEdited=!0)},unsetRealField(t,e){let n=e.id,i=e.fieldName;const o=this.getters.form(n);if(o){let t=o.realFields.indexOf(i);Vue.delete(o.realFields,t)}},toggleFormLoading(t,e){let n=e.id,i=e.isLoading;this.getters.form(n).loading=i},toggleMultiblockState(t,e){let n=e.id,i=e.multiblock,o=e.value;this.getters.form(n);s(t,n,`multiblockState.${i}`,o)},resetFirstErrorField(t,e){this.getters.form(e).firstErrorField=null}}};const pn={modules:{vue:{src:"https://unpkg.com/vue@2.5.21/dist/vue.min.js",cb(){Vue.use(cn)}},lodash:"https://unpkg.com/lodash@4.17.11/lodash.min.js",vuex:{src:"https://unpkg.com/vuex@2.5.0/dist/vuex.min.js",deps:["vue"],cb(){Vue.prototype.$awesForms=new Vuex.Store(hn)}},"vue-shortkey":{src:"https://unpkg.com/vue-shortkey@3",deps:["vue"],cb(){Vue.use(VueShortkey)}},"v-tooltip":{src:"https://unpkg.com/v-tooltip@2.0.0-rc.33/dist/v-tooltip.min.js",deps:["vue"],cb(){VTooltip.default.options.popover=Object.assign(VTooltip.default.options.popover,{defaultPlacement:"right",defaultAutoHide:!1,defaultTrigger:"manual",defaultPopperOptions:{modifiers:{flip:{behavior:["right","top"]}}}})}},"vue-multiselect":{src:["https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.js","https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css"],deps:["vue"],cb(){Vue.component("multiselect",window.VueMultiselect.default)}},"vue-recaptcha":{src:"https://unpkg.com/vue-recaptcha@latest/dist/vue-recaptcha.min.js",deps:["vue"],cb(){Vue.component("vue-recaptcha",window.VueRecaptcha)}},urlify:"https://unpkg.com/urlify@0.3.6/dist/urlify.js",hammerjs:"https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"},install(){AWES.lang=dn}};window&&"AWES"in window?AWES.use(pn):(window.__awes_plugins_stack__=window.__awes_plugins_stack__||[],window.__awes_plugins_stack__.push(pn))}();
