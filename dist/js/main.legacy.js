/**
 * Bundle of AWES form-builder transpiled and polyfilled
 * Generated: 2019-01-23
 * Version: 0.1.18
 */

!function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t,e,n,i,r,o,s,a,u,l){"function"==typeof s&&(u=a,a=s,s=!1);const c="function"==typeof n?n.options:n;t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),i&&(c._scopeId=i);let d;if(o?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=d):e&&(d=s?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),d)if(c.functional){const t=c.render;c.render=function(e,n){return d.call(n),t(e,n)}}else{const t=c.beforeCreate;c.beforeCreate=t?[].concat(t,d):[d]}return n}function n(t,e,n){function i(t){if(!n||0===Object.keys(n).length)return t;for(var e in n)t[e]=n[e];return t}if(document.createEvent){var r=new Event(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(i(r))}else{var o=document.createEventObject();e.fireEvent("on"+t,i(o))}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(){return AWES.utils.loadModules({"tiny-mce":"https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.2/tinymce.min.js","tiny-mce-plugins":{deps:["tiny-mce"],src:["https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.2/plugins/lists/plugin.min.js"]}})}function o(){return AWES.utils.loadModules({codemirror:{src:["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/codemirror.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/theme/3024-day.min.css","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/codemirror.css"]},"codemirror-plugins":{deps:["codemirror"],src:["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/mode/xml/xml.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/fold/xml-fold.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/matchbrackets.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/closebrackets.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/matchtags.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/addon/edit/closetag.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.43.0/mode/htmlmixed/htmlmixed.min.js"]}})}function s(t){this.installed||(this.installed=!0,t.component("form-builder",ut),t.component("fb-error-wrap",dt),t.component("fb-input",Ve),t.component("fb-multi-block",We),t.component("fb-checkbox",Xe),t.component("fb-select",Qe),t.component("fb-textarea",rn),t.component("fb-code",Nn),t.component("fb-company-slug",Ln),t.component("fb-auto-captcha",Bn),t.component("fb-radio-group",Wn),t.component("fb-slider",Yn),t.component("fb-phone",Jn),t.component("fb-uploader",function(t){AWES.utils.loadModule("vue-simple-uploader","https://unpkg.com/vue-simple-uploader@0.5.6/dist/vue-uploader.js",function(){t(ni)})}),t.component("fb-editor",function(t){r().then(function(){t(ui)})}))}function a(t,e,n,i){var r=t.forms.find(function(t){return t.id==e}),o=t.forms.findIndex(function(t){return t.id==e});null===i?_.unset(r,n):_.set(r,n,i),Vue.set(t.forms,o,r)}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var u=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),l=t(function(t){var e=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),c=(l.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),d=function(t){if(!c(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},p=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),h=u.document,m=c(h)&&c(h.createElement),v=function(t){return m?h.createElement(t):{}},b=!p&&!f(function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a}),g=function(t,e){if(!c(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!c(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!c(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!c(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},y=Object.defineProperty,w={f:p?Object.defineProperty:function(t,e,n){if(d(t),e=g(e,!0),d(n),b)try{return y(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},k=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},F=p?function(t,e,n){return w.f(t,e,k(1,n))}:function(t,e,n){return t[e]=n,t},E={}.hasOwnProperty,x=function(t,e){return E.call(t,e)},S=0,C=Math.random(),$=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++S+C).toString(36))},O=t(function(t){var e=$("src"),n=Function.toString,i=(""+n).split("toString");l.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,r,o){var s="function"==typeof r;s&&(x(r,"name")||F(r,"name",n)),t[n]!==r&&(s&&(x(r,e)||F(r,e,t[n]?""+t[n]:i.join(String(n)))),t===u?t[n]=r:o?t[n]?t[n]=r:F(t,n,r):(delete t[n],F(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),A=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},I=function(t,e,n){if(A(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},D=function(t,e,n){var i,r,o,s,a=t&D.F,c=t&D.G,d=t&D.S,f=t&D.P,p=t&D.B,h=c?u:d?u[e]||(u[e]={}):(u[e]||{}).prototype,m=c?l:l[e]||(l[e]={}),v=m.prototype||(m.prototype={});c&&(n=e);for(i in n)o=((r=!a&&h&&void 0!==h[i])?h:n)[i],s=p&&r?I(o,u):f&&"function"==typeof o?I(Function.call,o):o,h&&O(h,i,o,t&D.U),m[i]!=o&&F(m,i,s),f&&v[i]!=o&&(v[i]=o)};u.core=l,D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var T=D,N={}.toString,R=function(t){return N.call(t).slice(8,-1)},j=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==R(t)?t.split(""):Object(t)},M=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},L=function(t){return j(M(t))},P=Math.ceil,V=Math.floor,B=function(t){return isNaN(t=+t)?0:(t>0?V:P)(t)},z=Math.min,U=function(t){return t>0?z(B(t),9007199254740991):0},W=Math.max,H=Math.min,q=function(t,e){return t=B(t),t<0?W(t+e,0):H(t,e)},X=function(t){return function(e,n,i){var r,o=L(e),s=U(o.length),a=q(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Y=t(function(t){var e=u["__core-js_shared__"]||(u["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:l.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),G=t(function(t){var e=Y("wks"),n=u.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:$)("Symbol."+t))}).store=e}),K=G("unscopables"),Z=Array.prototype;void 0==Z[K]&&F(Z,K,{});var J=function(t){Z[K][t]=!0},Q=X(!0);T(T.P,"Array",{includes:function(t){return Q(this,t,arguments.length>1?arguments[1]:void 0)}}),J("includes");var tt=G("match"),et=function(t){var e;return c(t)&&(void 0!==(e=t[tt])?!!e:"RegExp"==R(t))},nt=function(t,e,n){if(et(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(M(t))},it=G("match");T(T.P+T.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[it]=!1,!"/./"[t](e)}catch(t){}}return!0}("includes"),"String",{includes:function(t){return!!~nt(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var rt=0,ot=[{type:"beforeunload",handler:"windowUnloadHandler"},{type:"popstate",handler:"popStateHandler"}],st={name:"form-builder",props:{cancelbtn:{type:Boolean,default:!1},name:{type:String,default:function(){return"form-builder-".concat(rt++)}},url:{type:String,required:!0},sendText:String,cancelText:String,loadingText:String,default:{type:Object,default:null},method:{type:String,default:"post",validator:function(t){return void 0===t||["get","put","post","delete","patch"].includes(t.toLowerCase())}},storeData:String,disabledDialog:{type:Boolean,default:!1},autoSubmit:{type:Boolean,default:!1}},inject:{modal:{from:"modal",default:!1}},provide:function(){return{formId:this.name,isModal:!!this.modal}},data:function(){return{loading:!1,serverData:null,serverDataErrors:null,showLoader:!1}},computed:{form:function(){return this.$awesForms.getters.form(this.name)},isEdited:function(){return this.$awesForms.getters.isEdited(this.name)},isBlocked:function(){return this.$awesForms.getters.isBlocked(this.name)},workingState:function(){return this.$awesForms.getters.workingState(this.name)},storeFormData:function(){return!!this.storeData&&this.$awesForms.state[this.storeData]},usedFormData:function(){return this.storeFormData?(this.default&&console.warn("Only VUEX STORE data will be used, despite DEFAULT data exists"),this.storeFormData):!!this.default&&this.default}},watch:{usedFormData:{handler:function(t){this.form||(this.createForm(),t&&this.$awesForms.commit("setDefaultData",{id:this.name,fields:t}))},deep:!0,immediate:!0},loading:function(t){this.$awesForms.commit("toggleFormLoading",{id:this.name,isLoading:t})},serverData:function(t){t&&(this.storeData?this.$awesForms.commit("setData",{param:this.storeData,data:t.data}):this.$awesForms.commit("setDefaultData",{id:this.name,fields:t.data}),this.$awesForms.commit("resetFormEdited",this.name),this.serverData=null,this.$emit("sended",t.data),this.modal&&this.close(this.modal.name))},serverDataErrors:function(t){t&&(this.$awesForms.commit("setErrors",{id:this.name,errors:t}),this.serverDataErrors=null,this.disabledDialog||this.addUnloadHandlers())}},methods:{createForm:function(){this.$awesForms.commit("createForm",{id:this.name,url:this.url,method:this.method,storeData:this.storeData})},send:function(){var t=this;AWES.emit("form-builder:before-send"),this.loading||this.isBlocked||(this.$listeners.hasOwnProperty("send")?this.$emit("send",this.workingState):(this.removeUnloadHandlers(),this.$awesForms.commit("resetErrors",this.name),this.loading=!0,AWES.on("core:ajax",this.onRequestProcess),AWES.ajax(this.workingState,this.url,this.method).then(function(e){e.success&&e.data&&(t.serverData=e.data),!e.success&&e.data&&(t.serverDataErrors=e.data)}).finally(function(){t.loading=!1,t.showLoader=!1,AWES.off("core:ajax",t.onRequestProcess)})))},onRequestProcess:function(t){this.showLoader=t.detail},addUnloadHandlers:function(){var t=this;ot.forEach(function(e){window.addEventListener(e.type,t[e.handler],!1)})},removeUnloadHandlers:function(){var t=this;ot.forEach(function(e){window.removeEventListener(e.type,t[e.handler])})},checkCloseAllowed:function(){return!!this.disabledDialog||(!this.isEdited||confirm(this.$lang.FORMS_CONFIRM))},popStateHandler:function(){if(this.removeUnloadHandlers(),this.checkCloseAllowed())this.modal&&this.close();else{var t=this.modal?this.modal.hash:"",e=location.href+t;history.pushState({modal:t},document.title,e),this.addUnloadHandlers()}},windowUnloadHandler:function(t){return!(!this.disabledDialog&&this.isEdited)||(t.returnValue=this.$lang.FORMS_CONFIRM,this.$lang.FORMS_CONFIRM)},close:function(){this.checkCloseAllowed()&&(this.removeUnloadHandlers(),AWES.off("modal::".concat(this.modal.name,".before-close"),this.preventModalClose),AWES.emit("modal::".concat(this.modal.name,".close")))},preventModalClose:function(t){t.detail.preventClose(),this.close()}},created:function(){var t=this;this.$root.$on("forms:submit",function(e){t.name===e&&t.send()}),this.modal&&(this.__unwatchModalPrevent=this.$watch("isEdited",function(e){AWES.on("modal::".concat(t.modal.name,".before-close"),t.preventModalClose)}))},mounted:function(){this.addUnloadHandlers(),this.autoSubmit&&(this._unwatchEdit=this.$watch("form.editCounter",this.send))},beforeDestroy:function(){this.removeUnloadHandlers(),"function"==typeof this.__unwatchModalPrevent&&this.__unwatchModalPrevent(),this.$awesForms.commit("deleteForm",this.name),"function"==typeof this._unwatchEdit&&this._unwatchEdit(),AWES.off("modal::".concat(this.modal.name,".before-close"),this.preventModalClose)}},at=st;st.__file="form-builder.vue";var ut=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form-builder",class:{modal__form:t.modal},attrs:{action:t.url,method:t.method}},[n("div",{staticClass:"grid grid_forms"},[t._t("default",null,{fields:t.workingState})],2),t._v(" "),t.autoSubmit?t._e():n("div",{class:t.modal?"line-btns":null},[n("div",{class:t.modal?"line-btns__wrap":"line-btns"},[n("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","enter"],expression:"['ctrl', 'enter']"}],staticClass:"btn btn-send waves-effect waves-button",class:{"loading-inline":t.showLoader},attrs:{disabled:!t.isEdited||t.isBlocked,"data-loading":t.$lang.FORMS_LOADING,type:"submit","data-awes":"modal_button_ok"},on:{shortkey:t.send,click:function(e){return e.preventDefault(),t.send(e)}},nativeOn:{click:function(e){return e.preventDefault(),t.send(e)}}},[t._v("\n          "+t._s(t.sendText||t.$lang.FORMS_SEND)+" "),n("span",{staticClass:"g-res--tablet-lg_n"},[t._v("(ctrl+enter)")])]),t._v(" "),t.modal||t.cancelbtn?n("button",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["esc"],expression:"['esc']"}],staticClass:"btn waves-effect waves-button",class:{btn_transparent:t.cancelbtn},attrs:{type:"button"},on:{shortkey:t.close,click:function(e){e.preventDefault(),t.modal?t.close():t.$emit("cancel")}}},[t._v("\n          "+t._s(t.cancelText||t.$lang.FORMS_CANCEL)+"\n        ")]):t._e(),t._v(" "),t._t("buttons-after")],2)])])},staticRenderFns:[]},void 0,at,void 0,!1,void 0,void 0,void 0),lt={name:"error-wrap",inject:{isModal:{from:"isModal",default:!1}},props:{open:{type:Boolean,default:!1},placement:{type:String,default:"top"},error:{type:Array}}},ct=lt;lt.__file="fb-error-wrap.vue";var dt=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-popover",{staticClass:"display-block",attrs:{placement:t.placement,open:t.open,"popover-class":["theme-error",{tooltip_modal:t.isModal}]}},[t._t("default"),t._v(" "),t.open?n("span",{staticClass:"tooltip__text",attrs:{slot:"popover"},on:{click:function(e){t.$emit("clickTooltip")}},slot:"popover"},[t.error?n("span",{staticClass:"errors__list"},t._l(t.error,function(e,i){return n("span",{key:i},[t._v(t._s(e))])}),0):t._e()]):t._e()],2)},staticRenderFns:[]},void 0,ct,void 0,!1,void 0,void 0,void 0),ft={f:{}.propertyIsEnumerable},pt=Object.getOwnPropertyDescriptor,ht={f:p?pt:function(t,e){if(t=L(t),e=g(e,!0),b)try{return pt(t,e)}catch(t){}if(x(t,e))return k(!ft.f.call(t,e),t[e])}},mt=function(t,e){if(d(t),!c(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},vt={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=I(Function.call,ht.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return mt(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:mt}.set,_t=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&c(i)&&vt&&vt(t,i),t},bt=Y("keys"),gt=function(t){return bt[t]||(bt[t]=$(t))},yt=X(!1),wt=gt("IE_PROTO"),kt=function(t,e){var n,i=L(t),r=0,o=[];for(n in i)n!=wt&&x(i,n)&&o.push(n);for(;e.length>r;)x(i,n=e[r++])&&(~yt(o,n)||o.push(n));return o},Ft="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Et=Ft.concat("length","prototype"),xt={f:Object.getOwnPropertyNames||function(t){return kt(t,Et)}},St="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",Ct="["+St+"]",$t=RegExp("^"+Ct+Ct+"*"),Ot=RegExp(Ct+Ct+"*$"),At=function(t,e,n){var i={},r=f(function(){return!!St[t]()||"âÂ"!="âÂ"[t]()}),o=i[t]=r?e(It):St[t];n&&(i[n]=o),T(T.P+T.F*r,"String",i)},It=At.trim=function(t,e){return t=String(M(t)),1&e&&(t=t.replace($t,"")),2&e&&(t=t.replace(Ot,"")),t},Dt=At,Tt=Object.keys||function(t){return kt(t,Ft)},Nt=p?Object.defineProperties:function(t,e){d(t);for(var n,i=Tt(e),r=i.length,o=0;r>o;)w.f(t,n=i[o++],e[n]);return t},Rt=u.document,jt=Rt&&Rt.documentElement,Mt=gt("IE_PROTO"),Lt=function(){},Pt=function(){var t,e=v("iframe"),n=Ft.length;for(e.style.display="none",jt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Pt=t.F;n--;)delete Pt.prototype[Ft[n]];return Pt()},Vt=Object.create||function(t,e){var n;return null!==t?(Lt.prototype=d(t),n=new Lt,Lt.prototype=null,n[Mt]=t):n=Pt(),void 0===e?n:Nt(n,e)},Bt=xt.f,zt=ht.f,Ut=w.f,Wt=Dt.trim,Ht=u.Number,qt=Ht,Xt=Ht.prototype,Yt="Number"==R(Vt(Xt)),Gt="trim"in String.prototype,Kt=function(t){var e=g(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=Gt?e.trim():Wt(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),u=0,l=a.length;u<l;u++)if((s=a.charCodeAt(u))<48||s>r)return NaN;return parseInt(a,i)}}return+e};if(!Ht(" 0o1")||!Ht("0b1")||Ht("+0x1")){Ht=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Ht&&(Yt?f(function(){Xt.valueOf.call(n)}):"Number"!=R(n))?_t(new qt(Kt(e)),n,Ht):Kt(e)};for(var Zt,Jt=p?Bt(qt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Qt=0;Jt.length>Qt;Qt++)x(qt,Zt=Jt[Qt])&&!x(Ht,Zt)&&Ut(Ht,Zt,zt(qt,Zt));Ht.prototype=Xt,Xt.constructor=Ht,O(u,"Number",Ht)}var te={props:{name:{type:String,required:!0},id:Number,disabled:{type:Boolean,default:!1},cell:{type:[String,Number],validator:function(t){return["2","3"].includes(t.toString())}}},inject:{formId:{from:"formId",default:!1},isModal:{from:"isModal",default:!1},multiblock:{from:"multiblock",default:!1}},data:function(){return{tooltip:!1,hasError:!1}},computed:{realName:function(){return this.multiblock?"".concat(this.multiblock,".").concat(this.id,".").concat(this.name):this.name},computedValue:function(){return this.$awesForms.getters.fieldValue(this.formId,this.realName)},formLoading:function(){return this.$awesForms.getters.loading(this.formId)},inActive:function(){return!(!this.inFocus&&!this.value)},isDisabled:function(){return this.formLoading||this.disabled||this.isMultiblockDisabled},isMultiblockDisabled:function(){return!!this.multiblock&&this.$awesForms.getters.multiblockDisabled(this.formId,this.multiblock)},cellClass:function(){return this.cell?"grid__cell_"+this.cell:""},error:function(){return this.$awesForms.getters.fieldError(this.formId,this.realName)},firstErrorField:function(){return this.$awesForms.getters.firstErrorField(this.formId)},shake:function(){return!this.formLoading&&this.tooltip}},watch:{error:{handler:function(t){t?(this.tooltip=!0,this.hasError=!0,this.$refs.element&&this.$refs.element.addEventListener("input",this.resetError,!1),"function"==typeof this.setFocus&&this.$nextTick(this.checkFocus)):(this.tooltip=!1,this.hasError=!1,this.resetInputWatcher())},immediate:!0}},methods:{createStoreInstance:function(){this.$awesForms.commit("setField",{id:this.formId,fieldName:this.realName,value:this.value,initial:!0})},initField:function(){void 0!==this.computedValue&&(this.value=this.computedValue),this.createStoreInstance(),this.__unwatchValue=this.$watch("value",this.valueHandler),this.multiblock&&(this.__unwatchId=this.$watch("id",this.idHandler))},idHandler:function(t,e){var n="".concat(this.multiblock,".").concat(e,".").concat(this.name),i=this.$awesForms.getters.fieldError(this.formId,n);i&&this.$awesForms.commit("renameError",{id:this.formId,oldName:n,newName:this.realName,message:i})},valueHandler:function(t){this.$awesForms.commit("setField",{id:this.formId,fieldName:this.realName,value:t})},clickTooltip:function(){this.tooltip=!1,"function"==typeof this.setFocus&&this.setFocus()},resetError:function(){this.tooltip=!1,this.$awesForms.commit("resetError",{id:this.formId,fieldName:this.realName}),this.resetInputWatcher()},resetInputWatcher:function(){this.$refs.element&&this.$refs.element.removeEventListener("input",this.resetError)},resetValue:function(t){this.formId===t&&(this.value=void 0)},checkFocus:function(){this.firstErrorField===this.realName&&(setTimeout(this.setFocus,0),this.$awesForms.commit("resetFirstErrorField",this.formId))}},created:function(){this.initField(),this.$root.$on("forms:reset",this.resetValue)},beforeDestroy:function(){this.multiblock&&(this.resetError(),this.$awesForms.commit("unsetRealField",{id:this.formId,fieldName:this.realName})),this.__unwatchValue(),"function"==typeof this.__unwatchId&&this.__unwatchId(),this.resetInputWatcher(),this.$root.$off("forms:reset",this.resetValue)}},ee=function(t){return Object(M(t))},ne=function(t,e,n,i){try{return i?e(d(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&d(r.call(t)),e}},ie={},re=G("iterator"),oe=Array.prototype,se=function(t){return void 0!==t&&(ie.Array===t||oe[re]===t)},ae=function(t,e,n){e in t?w.f(t,e,k(0,n)):t[e]=n},ue=G("toStringTag"),le="Arguments"==R(function(){return arguments}()),ce=function(t,e){try{return t[e]}catch(t){}},de=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=ce(e=Object(t),ue))?n:le?R(e):"Object"==(i=R(e))&&"function"==typeof e.callee?"Arguments":i},fe=G("iterator"),pe=l.getIteratorMethod=function(t){if(void 0!=t)return t[fe]||t["@@iterator"]||ie[de(t)]},he=G("iterator"),me=!1;try{[7][he]().return=function(){me=!0}}catch(t){}T(T.S+T.F*!function(t,e){if(!e&&!me)return!1;var n=!1;try{var i=[7],r=i[he]();r.next=function(){return{done:n=!0}},i[he]=function(){return r},t(i)}catch(t){}return n}(function(t){}),"Array",{from:function(t){var e,n,i,r,o=ee(t),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,l=void 0!==u,c=0,d=pe(o);if(l&&(u=I(u,a>2?arguments[2]:void 0,2)),void 0==d||s==Array&&se(d))for(n=new s(e=U(o.length));e>c;c++)ae(n,c,l?u(o[c],c):o[c]);else for(r=d.call(o),n=new s;!(i=r.next()).done;c++)ae(n,c,l?ne(r,u,[i.value,c],!0):i.value);return n.length=c,n}});var ve=Array.isArray||function(t){return"Array"==R(t)},_e=G("species"),be=function(t){var e;return ve(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!ve(e.prototype)||(e=void 0),c(e)&&null===(e=e[_e])&&(e=void 0)),void 0===e?Array:e},ge=function(t,e){return new(be(t))(e)},ye=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,a=5==t||s,u=e||ge;return function(e,l,c){for(var d,f,p=ee(e),h=j(p),m=I(l,c,3),v=U(h.length),_=0,b=n?u(e,v):i?u(e,0):void 0;v>_;_++)if((a||_ in h)&&(d=h[_],f=m(d,_,p),t))if(n)b[_]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return _;case 2:b.push(d)}else if(o)return!1;return s?-1:r||o?o:b}},we=ye(6),ke="findIndex",Fe=!0;ke in[]&&Array(1)[ke](function(){Fe=!1}),T(T.P+T.F*Fe,"Array",{findIndex:function(t){return we(this,t,arguments.length>1?arguments[1]:void 0)}}),J(ke);var Ee=function(t,e){return{value:e,done:!!t}},xe=w.f,Se=G("toStringTag"),Ce=function(t,e,n){t&&!x(t=n?t:t.prototype,Se)&&xe(t,Se,{configurable:!0,value:e})},$e={};F($e,G("iterator"),function(){return this});var Oe=function(t,e,n){t.prototype=Vt($e,{next:k(1,n)}),Ce(t,e+" Iterator")},Ae=gt("IE_PROTO"),Ie=Object.prototype,De=Object.getPrototypeOf||function(t){return t=ee(t),x(t,Ae)?t[Ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ie:null},Te=G("iterator"),Ne=!([].keys&&"next"in[].keys()),Re=function(){return this};!function(t,e,n,i,r,o,s){Oe(n,e,i);var a,u,l,c=function(t){if(!Ne&&t in h)return h[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",f="values"==r,p=!1,h=t.prototype,m=h[Te]||h["@@iterator"]||r&&h[r],v=m||c(r),_=r?f?c("entries"):v:void 0,b="Array"==e?h.entries||m:m;if(b&&(l=De(b.call(new t)))!==Object.prototype&&l.next&&(Ce(l,d,!0),"function"!=typeof l[Te]&&F(l,Te,Re)),f&&m&&"values"!==m.name&&(p=!0,v=function(){return m.call(this)}),(Ne||p||!h[Te])&&F(h,Te,v),ie[e]=v,ie[d]=Re,r)if(a={values:f?v:c("values"),keys:o?v:c("keys"),entries:_},s)for(u in a)u in h||O(h,u,a[u]);else T(T.P+T.F*(Ne||p),e,a)}(Array,"Array",function(t,e){this._t=L(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ee(1)):"keys"==e?Ee(0,n):"values"==e?Ee(0,t[n]):Ee(0,[n,t[n]])},"values");ie.Arguments=ie.Array,J("keys"),J("values"),J("entries");!function(t,e){var n=(l.Object||{})[t]||Object[t],i={};i[t]=e(n),T(T.S+T.F*f(function(){n(1)}),"Object",i)}("keys",function(){return function(t){return Tt(ee(t))}});var je={props:{enterSkip:{type:Boolean,default:!1},focus:{type:Boolean,default:!1}},data:function(){return{inFocus:this.focus}},computed:{isFocusable:function(){return!this.enterSkip&&!this.disabled&&this.formId}},methods:{focusNext:function(t){var e=this;try{var n=t.target.closest("form"),i=n.querySelectorAll(".is-focusable"),r=Array.from(i).findIndex(function(e){return e===t.target})+1;if(r<i.length)i[r].focus();else{t.target.blur();var o=n.querySelector('[type="submit"]');this.$nextTick(function(){o.click(),e.initWawesEffect(o)})}}catch(t){console.warn("Error while setting focus"),console.error(t)}},setFocus:function(t){try{var e=!1!==t?"focus":"blur";this.$refs.element[e]()}catch(t){console.warn("Error while setting focus"),console.error(t)}},initWawesEffect:function(t){var e={top:0,left:0};"function"==typeof t.getBoundingClientRect&&(e=t.getBoundingClientRect()),n("mousedown",t,{pageY:e.top+window.pageYOffset-document.documentElement.clientTop+t.clientHeight/2,pageX:e.left+window.pageXOffset-document.documentElement.clientLeft+t.clientWidth/2}),setTimeout(n,250,"mouseup",t)}},mounted:function(){this.setFocus(this.focus)}},Me=0,Le={name:"fb-input",inheritAttrs:!1,mixins:[te,je],props:{label:{type:String,default:""},spellcheck:{type:Boolean,default:!1},mask:String},data:function(){return{value:"",inputType:this.$attrs.type||"text",autoFilled:!1}},computed:{inputId:function(){return"input-"+Me++}},methods:{togglePassword:function(){this.setFocus(),"password"===this.inputType?this.inputType="text":this.inputType="password"},autoFillHack:function(t){switch(t.animationName){case"autoFillStart":this.autoFilled=!0;break;case"autoFillEnd":this.autoFilled=!1}}}},Pe=Le;Le.__file="fb-input.vue";var Ve=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input grid__cell",class:[{input_active:t.inActive||t.autoFilled,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{class:["input",{input_disabled:t.isDisabled}]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("label",{staticClass:"input__label input__label_field",attrs:{for:"#"+t.inputId}},[t._v(t._s(t.label))]),t._v(" "),"checkbox"===t.inputType&&t.mask?n("input",t._b({directives:[{name:"mask",rawName:"v-mask",value:t.mask,expression:"mask"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,change:function(e){var n=t.value,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.value=n.concat([null])):o>-1&&(t.value=n.slice(0,o).concat(n.slice(o+1)))}else t.value=r}}},"input",t.$attrs,!1)):"radio"===t.inputType&&t.mask?n("input",t._b({directives:[{name:"mask",rawName:"v-mask",value:t.mask,expression:"mask"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,change:function(e){t.value=null}}},"input",t.$attrs,!1)):t.mask?n("input",t._b({directives:[{name:"mask",rawName:"v-mask",value:t.mask,expression:"mask"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:t.inputType},domProps:{value:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,input:function(e){e.target.composing||(t.value=e.target.value)}}},"input",t.$attrs,!1)):"checkbox"===t.inputType?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,change:function(e){var n=t.value,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.value=n.concat([null])):o>-1&&(t.value=n.slice(0,o).concat(n.slice(o+1)))}else t.value=r}}},"input",t.$attrs,!1)):"radio"===t.inputType?n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,change:function(e){t.value=null}}},"input",t.$attrs,!1)):n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled,spellcheck:t.spellcheck,type:t.inputType},domProps:{value:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},animationstart:t.autoFillHack,input:function(e){e.target.composing||(t.value=e.target.value)}}},"input",t.$attrs,!1)),t._v(" "),"password"===t.$attrs.type?n("button",{staticClass:"input__eye",attrs:{type:"button","aria-label":t.$lang.SHOW_PASSWORD},on:{click:function(e){return e.preventDefault(),t.togglePassword(e)}}},[n("i",{class:["icon","password"===t.inputType?"icon-eye":"icon-eye2"]})]):t._e()])],1)])},staticRenderFns:[]},void 0,Pe,void 0,!1,void 0,void 0,void 0),Be=0,ze={name:"fb-multi-block",mixins:[te],props:{label:String},provide:function(){return{multiblock:this.multiblock?this.realName:this.name}},data:function(){return{value:[{}],uniqIds:[]}},computed:{hasClose:function(){return this.value.length>1},errors:function(){return this.$awesForms.getters.formErrorsOrFalse(this.formId)}},watch:{disabled:{handler:function(t){this.$awesForms.commit("toggleMultiblockState",{id:this.formId,multiblock:this.realName,value:t})},immediate:!0}},methods:{initField:function(){if(void 0!==this.computedValue&&this.computedValue.length){this.value=this.computedValue;for(var t in this.computedValue)this.uniqIds.push(Be++)}else this.uniqIds.push(Be++);this.createStoreInstance(),this.__unwatchValue=this.$watch("value",this.valueHandler)},addField:function(){this.isDisabled||(this.value.push({}),this.uniqIds.push(Be++),this.updateTooltips())},removeField:function(t){this.isDisabled||(this.$delete(this.value,t),this.uniqIds.splice(t,1),this.updateTooltips())},resetValue:function(){this.value=[{}]},updateTooltips:function(){this.errors&&this.$nextTick(function(){n("scroll",window)})}}},Ue=ze;ze.__file="fb-multi-block.vue";var We=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["grid__wrap multi-bl",{"multi-bl_disabled":this.isDisabled}]},[t._l(t.value,function(e,i){return n("div",{key:"slot-"+t.uniqIds[i],class:["grid__wrap",{"multi-bl__has-close":t.hasClose}]},[t._t("default",null,{id:i}),t._v(" "),t.hasClose?n("button",{staticClass:"multi-bl__clear",attrs:{"aria-label":"delete"},on:{click:function(e){e.preventDefault(),t.removeField(i)}}},[n("i",{staticClass:"icon icon-cross"})]):t._e()],2)}),t._v(" "),n("button",{staticClass:"multi-bl__add",on:{click:function(e){return e.preventDefault(),t.addField(e)}}},[t._v("\n    "+t._s(t.label||t.$lang.FORMS_MULTIBLOCK_ADD)+"\n  ")])],2)},staticRenderFns:[]},void 0,Ue,void 0,!1,void 0,void 0,void 0),He={name:"fb-checkbox",inheritAttrs:!1,mixins:[te,je],props:{label:{type:String,required:!0},padding:{type:Boolean,default:!0},theme:String},data:function(){return{value:!1}},computed:{themeClass:function(){return this.theme?"checkbox_".concat(this.theme):null},isSwitcher:function(){return"s2"===this.theme}},methods:{enableSwitcher:function(){var t=this;this.__hammer=new Hammer.Manager(this.$refs.switcher,{recognizers:[[Hammer.Swipe,{threshold:5,velocity:.1,direction:Hammer.DIRECTION_HORIZONTAL}]]}),this.__hammer.on("swipeleft",function(){t.value=!1}),this.__hammer.on("swiperight",function(){t.value=!0})}},mounted:function(){this.isSwitcher&&this.enableSwitcher()},beforeDestroy:function(){this.isSwitcher&&(this.__hammer.destroy(),delete this.__hammer)}},qe=He;He.__file="fb-checkbox.vue";var Xe=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid__cell",class:[{checkbox_error:t.hasError},{checkbox_active:t.inActive},{grid__cell_padding:t.padding},t.cellClass]},[n("label",{class:["checkbox",t.themeClass,{checkbox_disabled:t.isDisabled}],attrs:{"data-awes":t.$options.name+"."+t.name}},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:{"is-focusable":t.isFocusable,"in-focus":t.inFocus},attrs:{type:"checkbox",disabled:t.isDisabled},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},change:function(e){var n=t.value,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.value=n.concat([null])):o>-1&&(t.value=n.slice(0,o).concat(n.slice(o+1)))}else t.value=r}}},"input",t.$attrs,!1)),t._v(" "),n("span",{staticClass:"checkbox__text"},[n("i",{ref:"switcher",staticClass:"icon icon-checkbox"}),t._v(" "),n("span",[t._v(t._s(t.label))])])])],1)])},staticRenderFns:[]},void 0,qe,void 0,!1,void 0,void 0,void 0),Ye=ye(5),Ge=!0;"find"in[]&&Array(1).find(function(){Ge=!1}),T(T.P+T.F*Ge,"Array",{find:function(t){return Ye(this,t,arguments.length>1?arguments[1]:void 0)}}),J("find");var Ke={name:"fb-select",mixins:[te],components:{Multiselect:function(t){AWES.utils.loadModules({"vue-multiselect":{src:["https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.js","https://unpkg.com/vue-multiselect@2.1.0/dist/vue-multiselect.min.css"],deps:["vue"],cb:function(){t(window.VueMultiselect.default)}}})}},props:{label:String,selectOptions:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!0},placeholderText:String},data:function(){return{selected:[],isOpened:!1}},computed:{value:{get:function(){return this.multiple?this.selected.map(function(t){return t.value}):this.selected.value},set:function(t){this.multiple?this.selected=this.selectOptions.filter(function(e){return t.includes(e.value)}):this.selected=this.selectOptions.find(function(e){return t===e.value})}},hasValue:function(){return!!(this.multiple?this.value.length:this.value)},inActive:function(){return this.isOpened||this.hasValue}},methods:{resetValue:function(t){this.formId===t&&(this.value=[])}}},Ze=Ke;Ke.__file="fb-select.vue";var Je,Qe=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mselect grid__cell",class:[{mselect_active:t.inActive},{mselect_opened:t.isOpened},{input_disabled:t.disabled},t.cellClass]},[n("span",{staticClass:"mselect__label"},[t._v(t._s(t.label||t.$lang.FORMS_SELECT_LABEL))]),t._v(" "),n("multiselect",{staticClass:"input__field",attrs:{"show-labels":!1,multiple:t.multiple,placeholder:t.placeholderText||t.$lang.FORMS_SELECT_PLACEHOLDER,options:t.selectOptions,label:"name","track-by":"value","hide-selected":!0,disabled:t.isDisabled},on:{open:function(e){t.isOpened=!0},close:function(e){t.isOpened=!1}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},staticRenderFns:[]},void 0,Ze,void 0,!1,void 0,void 0,void 0),tn=t(function(t,e){!function(n,i){!function(t,e){function n(t){function e(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function n(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function i(){if(0!==t.scrollHeight){var e=n(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+a+"px",u=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),i&&(document.documentElement.scrollTop=i)}}function r(){i();var n=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),o="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):t.offsetHeight;if(o<n?"hidden"===r.overflowY&&(e("scroll"),i(),o="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==r.overflowY&&(e("hidden"),i(),o="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),l!==o){l=o;var a=s("autosize:resized");try{t.dispatchEvent(a)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var a=null,u=null,l=null,c=function(){t.clientWidth!==u&&r()},d=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",r,!1),t.removeEventListener("keyup",r,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",r,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",r,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",r,!1),t.addEventListener("autosize:update",r,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:d,update:r}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),a="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(a)&&(a=0),r()}()}}function i(t){var e=o.get(t);e&&e.destroy()}function r(t){var e=o.get(t);e&&e.update()}var o="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,i){-1===t.indexOf(n)&&(t.push(n),e.push(i))},delete:function(n){var i=t.indexOf(n);i>-1&&(t.splice(i,1),e.splice(i,1))}}}(),s=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){s=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((a=function(t){return t}).destroy=function(t){return t},a.update=function(t){return t}):((a=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},a.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t}),e.default=a,t.exports=e.default}(t,e)}()}),en={name:"fb-textarea",inheritAttrs:!1,mixins:[te,je],props:{label:{type:String,default:""},fixsize:{type:Boolean,default:!1}},data:function(){return{value:""}},methods:{setAutoResize:function(){this.fixsize||(tn(this.$refs.element),Je=this.$watch("value",this.updateAutoResize))},updateAutoResize:function(){var t=this;this.$nextTick(function(){tn.update(t.$refs.element)})}},mounted:function(){this.setAutoResize()},beforeDestroy:function(){"function"==typeof Je&&Je()}},nn=en;en.__file="fb-textarea.vue";var rn=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input grid__cell",class:[{input_active:t.inActive,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{staticClass:"input",class:{input_disabled:t.isDisabled}},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("span",{staticClass:"input__label"},[t._v(t._s(t.label))]),t._v(" "),n("textarea",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__textarea",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus}],attrs:{disabled:t.isDisabled},domProps:{value:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},input:function(e){e.target.composing||(t.value=e.target.value)}}},"textarea",t.$attrs,!1))])],1)])},staticRenderFns:[]},void 0,nn,void 0,!1,void 0,void 0,void 0),on=G("species"),sn=function(t,e){var n,i=d(t).constructor;return void 0===i||void 0==(n=d(i)[on])?e:A(n)},an=function(t){return function(e,n){var i,r,o=String(M(e)),s=B(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=o.charCodeAt(s),i<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536)}}(!0),un=function(t,e,n){return e+(n?an(t,e).length:1)},ln=RegExp.prototype.exec,cn=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==de(t))throw new TypeError("RegExp#exec called on incompatible receiver");return ln.call(t,e)},dn=function(){var t=d(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},fn=RegExp.prototype.exec,pn=String.prototype.replace,hn=fn,mn=function(){return fn.call(/a/,"a"),fn.call(/b*/g,"a"),0!==/a/.lastIndex||0!==/b*/g.lastIndex}(),vn=void 0!==/()??/.exec("")[1];(mn||vn)&&(hn=function(t){var e,n,i,r,o=this;return vn&&(n=new RegExp("^"+o.source+"$(?!\\s)",dn.call(o))),mn&&(e=o.lastIndex),i=fn.call(o,t),mn&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),vn&&i&&i.length>1&&pn.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i});var _n=hn;T({target:"RegExp",proto:!0,forced:_n!==/./.exec},{exec:_n});var bn=G("species"),gn=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),yn=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),wn=function(t,e,n){var i=G(t),r=!f(function(){var e={};return e[i]=function(){return 7},7!=""[t](e)}),o=r?!f(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[bn]=function(){return n}),n[i](""),!e}):void 0;if(!r||!o||"replace"===t&&!gn||"split"===t&&!yn){var s=/./[i],a=n(M,i,""[t],function(t,e,n,i,o){return e.exec===_n?r&&!o?{done:!0,value:s.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),u=a[0],l=a[1];O(String.prototype,t,u),F(RegExp.prototype,i,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}},kn=Math.min,Fn=[].push,En="length",xn=!!function(){try{return new RegExp("x","y")}catch(t){}}();wn("split",2,function(t,e,n,i){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[En]||2!="ab".split(/(?:ab)*/)[En]||4!=".".split(/(.?)(.?)/)[En]||".".split(/()()/)[En]>1||"".split(/.?/)[En]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!et(t))return n.call(i,t,e);for(var r,o,s,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,u+"g");(r=_n.call(d,i))&&!((o=d.lastIndex)>l&&(a.push(i.slice(l,r.index)),r[En]>1&&r.index<i[En]&&Fn.apply(a,r.slice(1)),s=r[0][En],l=o,a[En]>=c));)d.lastIndex===r.index&&d.lastIndex++;return l===i[En]?!s&&d.test("")||a.push(""):a.push(i.slice(l)),a[En]>c?a.slice(0,c):a}:"0".split(void 0,0)[En]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(t,e){var o=i(r,t,this,e,r!==n);if(o.done)return o.value;var s=d(t),a=String(this),u=sn(s,RegExp),l=s.unicode,c=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(xn?"y":"g"),f=new u(xn?s:"^(?:"+s.source+")",c),p=void 0===e?4294967295:e>>>0;if(0===p)return[];if(0===a.length)return null===cn(f,a)?[a]:[];for(var h=0,m=0,v=[];m<a.length;){f.lastIndex=xn?m:0;var _,b=cn(f,xn?a:a.slice(m));if(null===b||(_=kn(U(f.lastIndex+(xn?0:m)),a.length))===h)m=un(a,m,l);else{if(v.push(a.slice(h,m)),v.length===p)return v;for(var g=1;g<=b.length-1;g++)if(v.push(b[g]),v.length===p)return v;m=h=_}}return v.push(a.slice(h)),v}]});var Sn=Math.max,Cn=Math.min,$n=Math.floor,On=/\$([$&`']|\d\d?|<[^>]*>)/g,An=/\$([$&`']|\d\d?)/g,In=function(t){return void 0===t?t:String(t)};wn("replace",2,function(t,e,n,i){function r(t,e,i,r,o,s){var a=i+t.length,u=r.length,l=An;return void 0!==o&&(o=ee(o),l=On),n.call(s,l,function(n,s){var l;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":l=o[s.slice(1,-1)];break;default:var c=+s;if(0===c)return n;if(c>u){var d=$n(c/10);return 0===d?n:d<=u?void 0===r[d-1]?s.charAt(1):r[d-1]+s.charAt(1):n}l=r[c-1]}return void 0===l?"":l})}return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var o=i(n,t,this,e);if(o.done)return o.value;var s=d(t),a=String(this),u="function"==typeof e;u||(e=String(e));var l=s.global;if(l){var c=s.unicode;s.lastIndex=0}for(var f=[];;){var p=cn(s,a);if(null===p)break;if(f.push(p),!l)break;""===String(p[0])&&(s.lastIndex=un(a,U(s.lastIndex),c))}for(var h="",m=0,v=0;v<f.length;v++){p=f[v];for(var _=String(p[0]),b=Sn(Cn(B(p.index),a.length),0),g=[],y=1;y<p.length;y++)g.push(In(p[y]));var w=p.groups;if(u){var k=[_].concat(g,b,a);void 0!==w&&k.push(w);var F=String(e.apply(void 0,k))}else F=r(_,a,b,g,w,e);b>=m&&(h+=a.slice(m,b)+F,m=b+_.length)}return h+a.slice(m)}]});var Dn={name:"fb-code",mixins:[te,je],props:{length:{type:Number,default:6},autoSubmit:{type:Boolean,default:!0}},data:function(){return{inputValue:[],inFocus:[]}},computed:{value:{get:function(){return this.inputValue.join("")},set:function(t){t=t.trim().replace(/\D/g,"").substr(0,this.length),this.inputValue=t.split("")}},hasCaptchaError:function(){return this.$awesForms.getters.hasCaptchaError(this.formId)}},watch:{error:function(t){var e=this;t&&t.length?(this.value="",this.$refs.fields.forEach(function(t){t.addEventListener("input",e.resetError,!1)}),this.$nextTick(function(){e.setFocus()})):this.$refs.fields.forEach(function(t){t.removeEventListener("input",e.resetError)})},hasCaptchaError:function(t){t||this.autoSubmitForm(this.value)}},methods:{setFocus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("boolean"==typeof t&&!0===t)return void this.$refs.fields[0].focus();if("number"==typeof t){t>=this.length&&(t=this.length-1);var e=this.$refs.fields[t];setTimeout(function(){e.focus(),e.setSelectionRange(0,e.value.length)},10)}},onInput:function(t,e){var n=t.target.value.replace(/\D/g,"");t.target.value=n,this.$set(this.inputValue,e,n),this.isEmpty(e)||e===this.length-1||this.setFocus(e+1)},onBackspace:function(t,e){this.setFocus(e-1)},onLeft:function(t,e){this.setFocus(e-1)},onRight:function(t,e){this.setFocus(e+1)},onPaste:function(t){this.error&&this.error.length&&this.resetError(),this.value=t.clipboardData.getData("text")},isEmpty:function(t){return""===this.inputValue[t]||"undefined"===i(this.inputValue[t])},autoSubmitForm:function(t){this.hasCaptchaError||t.length===this.length&&this.$root.$emit("forms:submit",this.formId)}},created:function(){for(var t=0;t<this.length;t++)this.inFocus.push(!(0!==t||!this.focus)),this.inputValue.push("");this.autoSubmit&&(this.__unwatchFormSubmit=this.$watch("value",this.autoSubmitForm))},beforeDestroy:function(){var t=this;this.$refs.fields.forEach(function(e){e.removeEventListener("input",t.resetError)}),this.__unwatchFormSubmit&&this.__unwatchFormSubmit()}},Tn=Dn;Dn.__file="fb-code.vue";var Nn=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["keycode",{"animated shake":t.shake}]},[n("div",{staticClass:"keycode__block",class:{input_disabled:t.isDisabled}},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("div",{staticClass:"keycode__wrap",attrs:{id:"keywrap"}},t._l(t.length,function(e){return n("div",{staticClass:"keycode__ffield"},[n("input",{ref:"fields",refInFor:!0,class:["keycode__field",{"is-focusable":t.isFocusable,"in-focus":t.inFocus[e-1]}],attrs:{type:"tel",inputmode:"numeric",pattern:"[0-9]*",maxlength:"1",disabled:t.isDisabled},domProps:{value:t.inputValue[e-1]},on:{focus:function(n){t.inFocus[e-1]=!0},blur:function(n){t.inFocus[e-1]=!1},keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},function(n){if(!("button"in n)&&t._k(n.keyCode,"backspace",void 0,n.key,void 0))return null;e>1&&t.onBackspace(n,e-1)},function(n){return"button"in n||!t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])?"button"in n&&0!==n.button?null:void(e>1&&t.onLeft(n,e-1)):null},function(n){return"button"in n||!t._k(n.keyCode,"right",39,n.key,["Right","ArrowRight"])?"button"in n&&2!==n.button?null:void(e<t.length&&t.onRight(n,e-1)):null}],input:function(n){t.onInput(n,e-1)},paste:function(e){return e.preventDefault(),t.onPaste(e)}}})])}),0)])],1)])},staticRenderFns:[]},void 0,Tn,void 0,!1,void 0,void 0,void 0),Rn={companySlug:{domain:"awescrm.de",length:32,ulrifyOptions:{spaces:"-",toLower:!0,trim:!0,addEToUmlauts:!0,nonPrintable:"",failureOutput:""}}},jn={name:"fb-company-slug",extends:Ve,props:{domain:String,input:{type:String,required:!0},maxLength:Number},data:function(){return{watchInput:!0}},computed:{fromName:function(){return this.multiblock?"".concat(this.multiblock,".").concat(this.id,".").concat(this.input):this.input},fromValue:function(){return this.$awesForms.getters.fieldValue(this.formId,this.fromName)}},watch:{fromValue:function(t){this.watchInput&&t&&(this.value=this.noramlizeUrl(t))}},methods:{noramlizeUrl:function(t){return this._toUrl(t).substr(0,this.maxlength)},toggleWatcher:function(t){""===t.target.value?this.watchInput=!0:this.watchInput&&(this.watchInput=!1)},slugBlur:function(t){this.inFocus=!1,this.watchInput||(this.value=this.noramlizeUrl(t.target.value))}},beforeCreate:function(){this._config=Object.assign({},Rn.companySlug,AWES._config.companySlug),this._toUrl=Urlify.create(this._config.ulrifyOptions)}},Mn=jn;jn.__file="fb-company-slug.vue";var Ln=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input fb__input_slug grid__cell",class:[{input_active:t.inActive,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{class:["input",{input_disabled:t.isDisabled}]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("div",{staticClass:"fb__input-wrap"},[n("span",{staticClass:"fb__input-inner"},[n("label",{staticClass:"input__label",attrs:{for:"#"+t.inputId}},[t._v(t._s(t.label))]),t._v(" "),n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus}],attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,maxlength:t.maxLength||t._config.length,type:"text",disabled:t.isDisabled},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.toggleWatcher],focus:function(e){t.inFocus=!0},blur:t.slugBlur,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null}}},"input",t.$attrs,!1))]),t._v(" "),n("span",{staticClass:"fb__input-domain"},[t._v("."+t._s(t.domain||t._config.domain))])])])],1)])},staticRenderFns:[]},void 0,Mn,void 0,!1,void 0,void 0,void 0),Pn={name:"fb-auto-captcha",mixins:[te],props:{show:{type:Boolean,default:!1},name:{default:"g-recaptcha-response"}},data:function(){return{value:null,sitekey:AWES_CONFIG.reCaptchaSiteKey,serverError:!1,reset:!1}},computed:{realName:function(){return"g-recaptcha-response"},isShow:function(){return this.show||this.serverError},theme:function(){try{var t=this.$store.state.theme;return t&&1===t.theme_dark?"dark":"light"}catch(t){return"light"}}},watch:{error:function(t){t&&t.length&&(this.serverError=!0)},formLoading:function(t){var e=this;!t&&this.isShow&&this.$nextTick(function(){e.$refs.recaptcha.reset()})},theme:function(){var t=this;this.isShow&&(this.reset=!0,this.$nextTick(function(){t.reset=!1}))}},methods:{onVerify:function(t){this.value=t,this.resetError()},manageCaptchaScript:function(t){switch(t){case"add":if(!document.getElementById("g-captcha-script")){var e=document.createElement("script");e.setAttribute("id","g-captcha-script"),e.setAttribute("src","https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit"),document.head.appendChild(e)}break;case"remove":document.getElementById("g-captcha-script").remove()}}},created:function(){this.$isServer||this.manageCaptchaScript("add")},beforeDestroy:function(){this.manageCaptchaScript("remove")}},Vn=Pn;Pn.__file="fb-auto-captcha.vue";var Bn=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow&&!t.reset?n("div",{class:["grid__cell",t.cellClass]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("vue-recaptcha",{ref:"recaptcha",staticClass:"re-captcha",attrs:{sitekey:t.sitekey,theme:t.theme},on:{verify:t.onVerify,expired:function(e){t.value=null}}})],1)],1):t._e()},staticRenderFns:[]},void 0,Vn,void 0,!1,void 0,void 0,void 0),zn={name:"fb-radio-group",mixins:[te,je],props:{box:{type:Boolean,default:!1},items:Array},data:function(){return{value:null,inFocus:[]}},methods:{checkActive:function(t){return t.value?this.value===t.value:this.value===t.toString()},setFocus:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"number"==typeof t?this.$refs.elements[t].focus():!0===t&&this.$refs.elements[0].focus()}},created:function(){for(var t=0;t<this.items.length;t++)this.inFocus.push(!(0!==t||!this.focus))}},Un=zn;zn.__file="fb-radio-group.vue";var Wn=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items&&t.items.length?n("div",{staticClass:"grid__cell",class:[{"animated shake":t.shake},t.cellClass]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("span",{class:["display-block",{"fc-radio":t.box}]},t._l(t.items,function(e,i){return n("label",{key:i,class:[{"fc-radio__box":t.box,"is-checked":t.checkActive(e)}]},[n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"fields",refInFor:!0,class:["fc-radio__field",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus}],attrs:{type:"radio","data-awes":t.$options.name+"."+t.name,disabled:t.isDisabled},domProps:{value:e.value?e.value:e.toString(),checked:t._q(t.value,e.value?e.value:e.toString())},on:{focus:function(e){t.$set(t.inFocus,i,!0)},blur:function(e){t.$set(t.inFocus,i,!1)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},change:function(n){t.value=e.value?e.value:e.toString()}}},"input",t.$attrs,!1)),t._v(" "),t._t("default",[n("span",{staticClass:"fc-radio__text"},[t._v(t._s(e.name?e.name:e.toString()))])],{item:e,checked:t.checkActive(e),focused:t.inFocus[i]})],2)}),0)])],1):t._e()},staticRenderFns:[]},void 0,Un,void 0,!1,void 0,void 0,void 0),Hn=0,qn={name:"fb-slider",inheritAttrs:!1,mixins:[te,je],props:{label:{type:String,default:""},min:{type:[Number,String],default:0},max:{type:[Number,String],default:100}},data:function(){return{value:0,inputType:this.$attrs.type||"text",autoFilled:!1}},computed:{inputId:function(){return"slider-"+Hn++},percent:function(){return Math.round(Number(this.value)/Number(this.max)*100)}}},Xn=qn;qn.__file="fb-slider.vue";var Yn=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input grid__cell",class:[{input_active:t.inActive,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{class:["input","input_range",{input_disabled:t.isDisabled}]},[n("fb-error-wrap",{attrs:{open:t.tooltip,error:t.error},on:{clickTooltip:t.clickTooltip}},[n("div",{staticClass:"input__range-wrap"},[n("div",{staticClass:"input__range-left"},[n("label",{staticClass:"input__label input__label_field",attrs:{for:"#"+t.inputId}},[t._v(t._s(t.label))]),t._v(" "),n("span",{staticClass:"input__range-value"},[t._v(t._s(t.percent)+" %")])]),t._v(" "),n("div",{staticClass:"input__range-right"},[n("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"element",class:["input__range",{"is-focusable":t.isFocusable},{"in-focus":t.inFocus},{input__field_password:"password"===t.$attrs.type}],style:"--percent: "+t.percent+"%",attrs:{id:t.inputId,"data-awes":t.$options.name+"."+t.name,type:"range",disabled:t.isDisabled},domProps:{value:t.value},on:{focus:function(e){t.inFocus=!0},blur:function(e){t.inFocus=!1},keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.focusNext(e)):null},__r:function(e){t.value=e.target.value}}},"input",t.$attrs,!1))])])])],1)])},staticRenderFns:[]},void 0,Xn,void 0,!1,void 0,void 0,void 0),Gn=20,Kn={name:"fb-phone",mixins:[te,je],components:{VueTelInput:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=["https://unpkg.com/vue-tel-input@2.0.13/dist/vue-tel-input.js","https://unpkg.com/vue-tel-input@2.0.13/dist/vue-tel-input.css"];return AWES.utils.loadModule("vue-tel-input",e,function(){t(VueTelInput.default)})})},data:function(){return{nativeTelInput:!1,value:""}},methods:{setFocusWatcher:function(){var t=this;this.$refs.tel&&(this.nativeTelInput=this.$refs.tel.$refs.input,this.nativeTelInput.addEventListener("focus",function(){t.inFocus=!0}),this.setFocusableClass(),this.setFocusClass())},setFocusClass:function(){this.nativeTelInput.classList[this.inFocus?"add":"remove"]("in-focus"),Gn=20},setFocusableClass:function(){this.nativeTelInput.classList[this.isFocusable?"add":"remove"]("is-focusable"),Gn=20},setFocus:function(t){var e=this;try{var n=!1!==t?"focus":"blur";this.nativeTelInput[n]()}catch(n){Gn&&(Gn--,setTimeout(function(){e.setFocus(t)},1e3))}},checkFocus:function(){this.inFocus||this.setFocus()}},watch:{inFocus:function(){try{this.setFocusClass()}catch(t){Gn&&(Gn--,setTimeout(this.setFocusClass,1e3))}},isFocusable:function(){try{this.setFocusableClass()}catch(t){Gn&&(Gn--,setTimeout(this.setFocusableClass,1e3))}}},mounted:function(){this.setFocusWatcher()},updated:function(){this.nativeTelInput||this.setFocusWatcher()}},Zn=Kn;Kn.__file="fb-phone.vue";var Jn=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fb__input grid__cell",class:[{input_active:t.inActive,input_error:t.hasError,"animated shake":t.shake,disabled:t.isDisabled},t.cellClass]},[n("div",{class:["input","input_phone",{input_disabled:t.isDisabled}]},[n("span",{staticClass:"input__label"},[t._v("Phone")]),t._v(" "),n("vue-tel-input",{ref:"tel",attrs:{disabled:t.isDisabled},on:{onBlur:function(e){t.inFocus=!1},onInput:t.checkFocus},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)])},staticRenderFns:[]},void 0,Zn,void 0,!1,void 0,void 0,void 0),Qn={name:"fb-uploader",mixins:[te],props:{url:{type:String,required:!0},format:{type:[String,Array]},size:[String,Number],validator:function(t){return+t==t}},data:function(){return{value:[],filesProgress:{}}},filters:{timestampToDate:function(t){var e=new Date(t);return"".concat(e.getDate(),".").concat(e.getMonth()+1,".").concat(e.getFullYear()+1)},bytesToMb:function(t){var e=t/1024/1024;return(e<1?e.toFixed(3):e.toFixed(1))+"Mb"}},computed:{uploaderOptions:function(){return{target:this.url,testChunks:!1}},formatArray:function(){return this.format&&Array.isArray(this.format)?this.format:this.format.split(",").map(function(t){return t.trim()})},formatString:function(){return this.format&&Array.isArray(this.format)?this.format.concat(", "):this.format},maxSizeBytes:function(){return 1024*this.size*1024}},methods:{checkFile:function(t){this.format&&!this._extensionMatch(t)&&(t.ignored=!0,console.warn("fb-uploader: "+t.name+" format missmatch")),this.size&&t.size>this.maxSizeBytes&&(t.ignored=!0,console.warn("fb-uploader: "+t.name+" is too big"))},setProgress:function(t){this.$set(this.filesProgress,t.uniqueIdentifier,t.progress())},getExtension:function(t){return t.split(".").pop()},getName:function(t){var e=t.split(".");return e.pop(),e.join(".")},_extensionMatch:function(t){var e=this.getExtension(t.name);return this.formatArray.includes(e)},toggleFormBlock:function(t){this.$awesForms.commit("toggleFormBlocked",{id:this.formId,isBlocked:t}),t||this.$forceUpdate()},addFileNameToForm:function(t,e,n,i){delete this.filesProgress[e.uniqueIdentifier];try{var r=JSON.parse(n),o=_.get(r,"meta.img",e.relativePath);this.value.push(o)}catch(t){console.log(t)}},removeFile:function(t,e){t.isComplete()&&this.value.splice(e,1),t.cancel(),delete this.filesProgress[t.uniqueIdentifier]}}},ti=Qn;Qn.__file="fb-uploader.vue";var ei,ni=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid__cell grid__cell_uploader"},[n("uploader",{staticClass:"fb-uploader",class:{input_disabled:t.isDisabled},attrs:{options:t.uploaderOptions},on:{"file-added":t.checkFile,"file-progress":t.setProgress,"file-success":t.addFileNameToForm,"upload-start":function(e){t.toggleFormBlock(!0)},complete:function(e){t.toggleFormBlock(!1)}}},[n("uploader-unsupport"),t._v(" "),n("uploader-drop",[n("p",{staticClass:"fb-uploader__message"},[t._v("\n                "+t._s(t.$lang.FORMS_UPLOAD_DROP)+" \n                "),n("span",{staticClass:"fb-uploader__fakebtn"},[t._v(t._s(t.$lang.FORMS_UPLOAD_ADD))]),t._v(" "),n("uploader-btn",{staticClass:"fb-uploader__btn"},[n("span",[t._v(t._s(t.$lang.FORMS_UPLOAD_ADD))])])],1),t._v(" "),t.format||t.size?n("p",[t.format?n("i",{staticClass:"fb-uploader__formats"},[t._v("\n                    "+t._s(t.$lang.FORMS_UPLOAD_FORMAT)+" "+t._s(t.formatString)+".\n                ")]):t._e(),t._v(" "),t.size?n("i",{staticClass:"fb-uploader__size"},[t._v("\n                    "+t._s(t.$lang.FORMS_UPLOAD_SIZE)+" "+t._s(t.size)+"Mb\n                ")]):t._e()]):t._e()]),t._v(" "),n("uploader-list",{scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("list",[e.fileList.length?n("div",{staticClass:"fb-uploader__cwrap"},[n("table",{staticClass:"fb-uploader__list"},[n("tbody",[t._l(e.fileList,function(e,i){return[n("tr",{key:e.id},[n("td",{staticClass:"fb-uploader__list-number"},[t._v(t._s(i+1))]),t._v(" "),n("td",{staticClass:"fb-uploader__list-name"},[n("span",{staticClass:"fb-uploader__list-ftitle"},[t._v(t._s(t.getName(e.name)))])]),t._v(" "),n("td",{staticClass:"fb-uploader__list-type"},[t._v(t._s(t.getExtension(e.name)))]),t._v(" "),n("td",{staticClass:"fb-uploader__list-size"},[t._v(t._s(t._f("bytesToMb")(e.size)))]),t._v(" "),n("td",{staticClass:"fb-uploader__list-date"},[e.isComplete()?[t._v("\n                                                "+t._s(t._f("timestampToDate")(e._lastProgressCallback))+"\n                                            ")]:t._e()],2),t._v(" "),n("td",{staticClass:"fb-uploader__list-delete"},[n("button",{staticClass:"fb-uploader__delete",attrs:{title:t.$lang.FORMS_UPLOAD_DELETE,"aria-label":t.$lang.FORMS_UPLOAD_DELETE},on:{click:function(n){n.preventDefault(),t.removeFile(e,i)}}},[t._v("Ã")])])]),t._v(" "),e.isComplete()?t._e():n("tr",{key:e.id+"loader",staticClass:"fb-uploader__list-pgwrap"},[n("td",{staticClass:"fb-uploader__list-progress",attrs:{colspan:"6"}},[n("progress",{staticClass:"fb-uploader__progress",attrs:{max:"1"},domProps:{value:t.filesProgress[e.uniqueIdentifier]}})])])]})],2)])]):t._e()],{fileList:e.fileList,removeFile:t.removeFile})]}}])})],1)],1)},staticRenderFns:[]},void 0,ti,void 0,!1,void 0,void 0,void 0),ii={branding:!1,statusbar:!1,menubar:!1,fontsize_formats:"10px 12px 14px 16px 18px 24px 36px",plugins:"lists",toolbar:["fontselect fontsizeselect bold italic underline numlist bullist"],setup:function(){this.on("ExecCommand",function(t){"FontName"===t.command&&(t.target.getDoc().body.style.fontFamily=t.value)})},init_instance_callback:function(){this.execCommand("FontName",!1,"Arial")}},ri={lineNumbers:!0,autoCloseBrackets:!0,matchBrackets:!0,autoCloseTags:!0,matchTags:!0,mode:"htmlmixed"},oi=0,si={name:"fb-editor",mixins:[te],props:{options:{type:Object,default:function(){return{}}}},data:function(){return{editorId:"fb-editor-"+oi,codeEditorId:"fb-code-editor-"+oi++,mode:"visual",codeEditorInited:!1,value:""}},watch:{mode:function(t){"visual"===t?(this._saveCode(),tinymce.get(this.editorId).setContent(this.value)):(this._saveVisual(),this.codeEditorInited?this._setCodeValue():o().then(this.initCodeEditor).then(this._setCodeValue))}},methods:{initEditor:function(){ii.selector="#"+this.editorId;var t=Object.assign({},this.options,ii);tinymce.init(t),tinymce.get(this.editorId).on("Change",_.debounce(this.save,1e3))},initCodeEditor:function(){return this.codeEditorInited=!0,(ei=CodeMirror.fromTextArea(this.$refs.code,ri)).on("update",_.debounce(this.save,1e3)),ei},save:function(){console.log("save"),"visual"===this.mode?this._saveVisual():this._saveCode()},_saveVisual:function(){this.value=tinymce.get(this.editorId).save()},_saveCode:function(){this.value=ei.doc.getValue()},_setCodeValue:function(){ei.doc.setValue(this.value),setTimeout(function(){ei.refresh()},1)}},mounted:function(){AWES.on("form-builder:before-send",this.save),this.$nextTick(this.initEditor)},beforeDestroy:function(){AWES.off("form-builder:before-send",this.save)}},ai=si;si.__file="fb-editor.vue";var ui=e({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid__cell",class:t.cellClass},[n("div",{staticClass:"fb-editor",class:{input_disabled:t.isDisabled}},[n("div",{staticClass:"fb-editor__modes"},[n("button",{class:["fb-editor__modes-button",{"is-active":"visual"===t.mode}],attrs:{type:"button"},on:{click:function(e){t.mode="visual"}}},[t._v("\n                "+t._s(t.$lang.FORMS_EDITOR_VISUAL)+"\n            ")]),t._v(" "),n("button",{class:["fb-editor__modes-button",{"is-active":"code"===t.mode}],attrs:{type:"button"},on:{click:function(e){t.mode="code"}}},[t._v("\n                "+t._s(t.$lang.FORMS_EDITOR_CODE)+"\n            ")])]),t._v(" "),n("div",{staticClass:"fb-editor__tabs"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"visual"===t.mode,expression:"mode === 'visual'"}],key:"visual",staticClass:"fb-editor__tab"},[n("textarea",{staticClass:"fb-editor__tiny",attrs:{id:t.editorId}},[t._v(t._s(t.value))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"code"===t.mode,expression:"mode === 'code'"}],key:"code",staticClass:"fb-editor__tab"},[n("textarea",{ref:"code",staticClass:"fb-editor__codemirror",attrs:{id:t.codeEditorId}},[t._v(t._s(t.value))])])])])])},staticRenderFns:[]},void 0,ai,void 0,!1,void 0,void 0,void 0),li={installed:!1,install:s},ci={FORMS_SEND:"Send",FORMS_CANCEL:"Cancel",FORMS_LOADING:"Loading...",FORMS_CONFIRM:"Are you shure? All not submitted data will be erased...",FORMS_MULTIBLOCK_ADD:"add",FORMS_SELECT_LABEL:"Select a value",FORMS_SELECT_PLACEHOLDER:"Pick a value",FORMS_UPLOAD_DROP:"Drag and drop file or",FORMS_UPLOAD_ADD:"Add file",FORMS_UPLOAD_FORMAT:"File formats only",FORMS_UPLOAD_SIZE:"Size of files no more then",FORMS_UPLOAD_REMOVE:"Remove file",FORMS_EDITOR_VISUAL:"Visual",FORMS_EDITOR_CODE:"Code"},di=function(t){var e=t.id,n=t.url,i=t.method;return{id:e,url:n,storeData:t.storeData,initialState:{_method:i},realFields:[],workingState:{},loading:!1,isEdited:!1,isBlocked:!1,editCounter:0,errors:{},firstErrorField:null,multiblockState:{}}},fi={state:{forms:[]},getters:{form:function(t){return function(e){return t.forms.find(function(t){return t.id==e})}},formErrorsOrFalse:function(t,e){return function(t){var n=e.form(t).errors;return!!Object.keys(n).length&&n}},isEdited:function(t,e){return function(t){return e.form(t).isEdited}},isBlocked:function(t,e){return function(t){return e.form(t).isBlocked}},fieldValue:function(t,e){return function(t,n){return _.get(e.form(t).workingState,n)}},fieldError:function(t,e){return function(t,n){return _.get(e.form(t).errors,n)}},firstErrorField:function(t,e){return function(t){return e.form(t).firstErrorField}},workingState:function(t,e){return function(t){return e.form(t).workingState}},loading:function(t,e){return function(t){return e.form(t).loading}},multiblockDisabled:function(t,e){return function(t,n){return _.get(e.form(t).multiblockState,n)}},hasCaptchaError:function(t,e){return function(t){return!!e.form(t).errors.hasOwnProperty("g-recaptcha-response")}}},mutations:{createForm:function(t,e){if(this.getters.form(e.id))throw new Error("Form with ID ".concat(e.id," already exists"));t.forms.push(di(e))},deleteForm:function(t,e){var n=t.forms.findIndex(function(t){return t.id===e});-1!==n?Vue.delete(t.forms,n):console.warn("No form to delete with id: "+e)},setDefaultData:function(t,e){var n=e.id,i=e.fields,r=this.getters.form(n);r.initialState=_.merge(r.initialState,_.cloneDeep(i)),r.workingState=_.cloneDeep(r.initialState)},resetFormEdited:function(t,e){this.getters.form(e).isEdited=!1},setErrors:function(t,e){var n=e.id,i=e.errors,r=this.getters.form(n);r.firstErrorField=Object.keys(i)[0],r.errors=i},resetError:function(t,e){var n=e.id,i=e.fieldName,r=this.getters.form(n);r&&(delete r.errors[i],a(t,n,"errors",r.errors))},resetErrors:function(t,e){this.getters.form(e).errors={}},renameError:function(t,e){var n=e.id,i=e.oldName,r=e.newName,o=e.message,s=this.getters.form(n);Vue.set(s.errors,r,o),Vue.delete(s.errors,i)},setField:function(t,e){var n=e.id,i=e.fieldName,r=e.value,o=e.initial;a(t,n,"workingState.".concat(i),r);var s=this.getters.form(n);o&&s.realFields.push(i),!0!==o&&(s.editCounter+=1,s.isEdited=!0)},unsetRealField:function(t,e){var n=e.id,i=e.fieldName,r=this.getters.form(n);if(r){var o=r.realFields.indexOf(i);Vue.delete(r.realFields,o)}},toggleFormLoading:function(t,e){var n=e.id,i=e.isLoading;this.getters.form(n).loading=i},toggleFormBlocked:function(t,e){var n=e.id,i=e.isBlocked;this.getters.form(n).isBlocked=i},toggleMultiblockState:function(t,e){var n=e.id,i=e.multiblock,r=e.value;this.getters.form(n);a(t,n,"multiblockState.".concat(i),r)},resetFirstErrorField:function(t,e){this.getters.form(e).firstErrorField=null}}},pi={modules:{vue:{src:"https://unpkg.com/vue@2.5.21/dist/vue.min.js",cb:function(){Vue.use(li)}},lodash:"https://unpkg.com/lodash@4.17.11/lodash.min.js",vuex:{src:"https://unpkg.com/vuex@2.5.0/dist/vuex.min.js",deps:["vue"],cb:function(){Vue.prototype.$awesForms=new Vuex.Store(fi)}},"vue-shortkey":{src:"https://unpkg.com/vue-shortkey@3",deps:["vue"],cb:function(){Vue.use(VueShortkey)}},"v-tooltip":{src:"https://unpkg.com/v-tooltip@2.0.0-rc.33/dist/v-tooltip.min.js",deps:["vue"],cb:function(){VTooltip.default.options.popover=Object.assign(VTooltip.default.options.popover,{defaultPlacement:"right",defaultAutoHide:!1,defaultTrigger:"manual",defaultPopperOptions:{modifiers:{flip:{behavior:["right","top"]}}}})}},"vue-recaptcha":{src:"https://unpkg.com/vue-recaptcha@latest/dist/vue-recaptcha.min.js",deps:["vue"],cb:function(){Vue.component("vue-recaptcha",window.VueRecaptcha)}},"vue-the-mask":{src:"https://unpkg.com/vue-the-mask@0.11.1/dist/vue-the-mask.js",deps:["vue"]},urlify:"https://unpkg.com/urlify@0.3.6/dist/urlify.js",hammerjs:"https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"},install:function(){AWES.lang=ci}};window&&"AWES"in window?AWES.use(pi):(window.__awes_plugins_stack__=window.__awes_plugins_stack__||[],window.__awes_plugins_stack__.push(pi))}();
